{"version":3,"sources":["webpack:///./src/client.js?","webpack:///./src/app.js?","webpack:///./~/redux-router/server.js?","webpack:///./~/redux-router/lib/server.js?","webpack:///./~/redux-router/lib/matchMiddleware.js?","webpack:///./src/reducers/index.js?","webpack:///./src/reducers/auth/index.js?","webpack:///./src/reducers/auth/configure.js?","webpack:///./src/constants/ACTION_TYPES.js?","webpack:///./src/utils/defineActionTypes.js?","webpack:///./src/reducers/createDataReducer.js?","webpack:///./src/reducers/auth/authenticate.js?","webpack:///./src/reducers/auth/signin.js?","webpack:///./src/reducers/createFormReducer.js?","webpack:///./src/reducers/auth/signup.js?","webpack:///./src/reducers/auth/signout.js?","webpack:///./src/reducers/auth/user.js?","webpack:///./src/reducers/data/index.js?","webpack:///./src/reducers/data/accounts.js?","webpack:///./src/reducers/data/transfers.js?","webpack:///./src/reducers/data/entities.js?","webpack:///./src/reducers/data/bookmarkAccount.js?","webpack:///./src/reducers/ui/index.js?","webpack:///./src/reducers/ui/account.js?","webpack:///./src/reducers/ui/errors.js?","webpack:///./src/reducers/ui/bookmarkAccount.js?","webpack:///./src/reducers/ui/transfersMake.js?","webpack:///./src/actions/configure.js?","webpack:///./src/actions/authenticate.js?","webpack:///./src/utils/actions.js?","webpack:///./src/utils/sessionStorage.js?","webpack:///./src/utils/constants.js?","webpack:///./src/utils/root.js?","webpack:///./src/utils/api.js?","webpack:///./src/utils/fetch.js?","webpack:///./src/utils/apiEndpoints.js?","webpack:///./src/utils/handleFetchResponse.js?","webpack:///./src/actions/entities.js?","webpack:///./src/utils/clientSettings.js?","webpack:///./src/utils/parseEndpointConfig.js?","webpack:///./src/actions/navigate.js?","webpack:///./src/components/AuthComponent.js?","webpack:///./src/utils/readProp.js?","webpack:///./src/components/partials/Container.js?","webpack:///./src/components/HeaderLinks.js?","webpack:///./src/actions/signOut.js?","webpack:///./src/views/MyAccounts.js?","webpack:///./src/components/AccountInfo.js?","webpack:///./src/views/modals/index.js?","webpack:///./src/views/modals/Add3rdPartyAccountModal.js?","webpack:///./src/controls/bootstrap/ButtonLoader.js?","webpack:///./src/controls/bootstrap/Input.js?","webpack:///./src/controls/bootstrap/AuxErrorLabel.js?","webpack:///./src/views/modals/NewAccountModal.js?","webpack:///./src/views/modals/RemoveAccountModal.js?","webpack:///./src/components/Money.js?","webpack:///./src/components/partials/IndexPanel.js?","webpack:///./src/views/Account.js?","webpack:///./src/components/TransfersTable.js?","webpack:///./src/utils/blockedExecution.js?","webpack:///./src/views/SignIn.js?","webpack:///./src/controls/bootstrap/EmailSignInForm.js?","webpack:///./src/actions/signIn.js?","webpack:///./src/views/SignUp.js?","webpack:///./src/controls/bootstrap/EmailSignUpForm.js?","webpack:///./src/entities/formToPayloadMappers.js?","webpack:///./src/actions/signUp.js?"],"names":["then","provider","reactRoot","window","document","getElementById","render","process","env","NODE_ENV","firstChild","attributes","console","error","initialize","App","props","children","Component","cookies","isServer","currentLocation","userAgent","reducer","app","router","dispatch","onEnter","nextState","location","routes","reduxReactRouter","createHistoryMethod","store","createHistory","default","emailSignInPath","customersPath","currentUserPath","accountsPath","transfersPath","storage","tokenFormat","handleLoginResponse","resp","data","handleAccountUpdateResponse","handleTokenValidationResponse","redirectPath","blank","global","navigator","log","mainReducer","auth","ui","authStateReducer","configure","signIn","signUp","signOut","authentication","user","configReducer","AUTH","CONFIGURE_START","CONFIGURE_COMPLETE","CONFIGURE_ERROR","c","LOCATION","ENTER","AUTHENTICATE_START","AUTHENTICATE_COMPLETE","AUTHENTICATE_ERROR","SIGN_IN_START","SIGN_IN_COMPLETE","SIGN_IN_ERROR","SIGN_IN_FORM_UPDATE","SIGN_UP_START","SIGN_UP_COMPLETE","SIGN_UP_ERROR","SIGN_UP_FORM_UPDATE","SIGN_OUT_START","SIGN_OUT_COMPLETE","ENTITIES","REQUESTED","RECEIVED","RECEIVED_LIST","ACCOUNTS","LIST_START","LIST_COMPLETE","LIST_ERROR","LIST_REF_START","LIST_REF_COMPLETE","LIST_REF_ERROR","CREATE_START","CREATE_COMPLETE","CREATE_ERROR","CREATE_FORM_UPDATE","EDIT_START","EDIT_COMPLETE","EDIT_ERROR","EDIT_FORM_UPDATE","CREATE_REF_START","CREATE_REF_COMPLETE","CREATE_REF_ERROR","CREATE_REF_FORM_UPDATE","CREATE_REF_OWNER_LOOKUP_START","CREATE_REF_OWNER_LOOKUP_COMPLETE","CREATE_REF_ACCOUNT_LOOKUP_START","CREATE_REF_ACCOUNT_LOOKUP_COMPLETE","ACCOUNT","SINGLE_START","SINGLE_COMPLETE","SINGLE_ERROR","DELETE_START","DELETE_COMPLETE","DELETE_ERROR","TRANSFERS","MAKE_START","MAKE_COMPLETE","MAKE_ERROR","MAKE_FORM_UPDATE","ERROR","START","STOP","defineActionTypes","TODO_DEFINE","Symbol","defineActionType","obj","result","Object","keys","reduce","memo","namespace","value","types","namespaceTypes","trim","split","filter","key","test","Set","size","length","forEach","t","entries","type","createByIdDataReducer","next","KEY_REQUEST","KEY_SUCCESS","KEY_ERROR","state","action","id","errors","createDataReducer","payloadActionNameProp","payloadStateNameProp","payloadAssignFn","k","initialState","loading","formReducer","payload","isSealed","aggregate","valid","authReducer","internalSignInReducer","signInReducer","pathname","createFormReducer","KEY_UPDATE","form","internalSignUpReducer","signUpReducer","signOutInitialState","signOutReducer","initalState","isSignedIn","userReducer","dataReducer","transfers","entities","accounts","bookmarkAccount","ownAccountsReducer","otherAccountsReducer","toAccounts","map","createAccountReducer","editAccountReducer","own","other","create","edit","selectedEvents","nodeInitialState","entity","hashMap","item","accountId","optionsLoaderInitialState","options","accountsDisabled","ownersLookup","accountsLookup","optionsLoaderReducer","isOwnerSetBlank","isOwnerSelected","nextAccountsDisabled","nextForm","account","nextErrors","uiReducer","transfersMake","setEndpointKeys","SET_ENDPOINT_KEYS","endpoints","currentEndpointKey","defaultEndpointKey","endpoint","settings","authenticate","U","authenticateStart","authenticateComplete","authenticateError","forceReread","savedUserPromise","Promise","rs","rj","currentHeaders","retrieveHeaders","accessToken","reason","savedUser","retrieveUserData","userData","persistUserData","err","catch","resolve","makeActionCreator","argNames","args","arg","index","setCurrentSettings","setCurrentEndpoint","setCurrentEndpointKey","setDefaultEndpointKey","getDefaultEndpointKey","resetConfig","destroySession","getInitialEndpointKey","isApiRequest","getTokenFormat","persistData","retrieveData","C","authState","currentSettings","currentEndpoint","memoryStorage","clean","s","e","SAVED_CONFIG_KEY","DEFAULT_CONFIG_KEY","SAVED_CREDS_KEY","SAVED_USER_INFO","localStorage","removeItem","remove","path","cookiePath","unescapeQuotes","val","replace","get","getItem","url","JSON","stringify","setItem","set","expires","cookieExpiry","parse","INITIAL_CONFIG_KEY","Function","eval","ENDPOINTS","JSON_HEADERS","headers","METHODS","DELETE","method","GET","POST","fetch","apiSignIn","body","emailSignIn","apiSignUp","emailSignUp","apiGetCurrentUser","currentUser","apiCreateAccount","customerId","title","initialBalance","balance","description","apiCreateRefAccount","owner","refAccounts","apiMakeTransfer","fromAccountId","amount","apiRetrieveAccounts","customersAccounts","apiRetrieveTransfers","history","apiRetrieveAccount","apiDeleteAccount","apiDeleteRefAccount","refAccount","apiRetrieveUsers","email","customersLookup","getAuthHeaders","updateAuthCredentials","nextHeaders","newHeaders","blankHeaders","API_ROOT","lookup","makeQuery","params","encodeURIComponent","join","parseResponse","response","json","status","message","rest","jvmPattern","m","name","reject","accountsList","accountCreate","accountRefCreate","fetchOwnAccounts","fetchAccount","deleteAccount","errorMessageTimedOut","api","entityRequested","entityReceived","accountsListRequested","accountsListReceived","accountsListError","accountsRefListReceived","accountCreateStart","accountCreateComplete","accountCreateError","accountCreateFormUpdate","accountRefCreateStart","accountRefCreateComplete","accountRefCreateError","accountRefCreateFormUpdate","accountRequested","accountComplete","accountError","readUntilChanged","initialData","initialDataFlat","setTimeout","call","deleteAccountRequested","deleteAccountComplete","deleteAccountError","isRef","deleteApiAction","errorMessageStart","errorMessageStop","timeout","createRefOwnerLookupStart","createRefOwnerLookupComplete","createRefAccountLookupStart","createRefAccountLookupComplete","createRefOwnerLookup","customers","arr","fullName","firstName","lastName","i","label","createRefAccountLookup","makeTransferRequested","makeTransferComplete","makeTransferError","makeTransferFormUpdate","makeTransfer","moneyTransferId","getTransfersRequested","getTransfersComplete","getTransfersError","getTransfers","applyConfig","defaultSettings","forceHardRedirect","initialCredentials","reset","match","parseEndpointConfig","defaultEndpoint","apiUrl","signOutPath","emailRegistrationPath","accountUpdatePath","accountDeletePath","passwordResetPath","passwordUpdatePath","tokenValidationPath","authProviderPaths","github","facebook","google","getFirstObjectKey","constructor","Array","defaultConfig","configName","visitLocation","requireAuthentication","AuthComponent","isAuthenticated","redirectAfterLogin","checkRedirect","nextProps","mapStateToProps","read","src","defaultVal","pathItem","Container","propTypes","node","BS","HeaderLinks","evt","buttonSet","isRegister","isLogin","condition","bind","signOutStart","signOutComplete","M","A","AU","resetModals","showAccountModal","show3rdPartyAccountModal","showDeleteAccountModal","MyAccounts","setState","close","all","accountToRemove","ssn","phoneNumber","address","city","street1","street2","zipCode","errorLine","ownAccountsData","ownAccounts","idx","remove3rdPartyAccountModal","refAccountsData","concat","createAccountModal","create3rdPartyAccountModal","createAccountModalConfirmed","create3rdPartyAccountModalConfirmed","remove3rdPartyAccountModalConfirmed","AccountInfo","ensureData","padding","formValidation","prop","push","hasErrors","Add3rdPartyAccountModal","preventDefault","validationErrors","onHide","input","disabled","ownersLoading","formErrors","show","display","getOwnersOptions","handleInput","handleSubmit","ButtonLoader","icon","spinColor","bsStyle","spinColorDark","spinColorLight","spinConfig","position","marginRight","width","height","top","onClick","className","style","bsSize","renderIcon","bool","object","string","func","isRequired","defaultProps","lines","radius","AuthInput","ev","onChange","target","paddingLeft","marginBottom","left","renderErrorList","array","AuxErrorLabel","NewAccountModal","event","actionLabel","RemoveAccountBookmarkModal","titleRaw","descriptionRaw","balanceRaw","entityId","handleAction","moneyText","Number","isNaN","absNum","Math","abs","toFixed","Money","IndexPanel","header","Modals","unsaved","Account","ensureTransfers","ensureAccounts","cb","forceFetch","transfer","spinnerResult","transferTo","itemAccountId","substr","transferDisabled","initiateTransfer","TransfersTable","currentAccountId","sort","a","b","date","entryType","toAccountId","v","items","isOriginating","forAccount","transfersMarkup","preprocessItems","transactionId","transferTimestamp","Date","timeAgoTitle","toLocaleDateString","toLocaleTimeString","directionMarkup","counterAccountMarkup","blocked","fn","useCb","isBlocked","SignIn","nextLocation","AS","EmailSignInForm","emailSignInFormUpdate","formData","emailSignInError","inputProps","password","submit","ex","shape","emailSignInStart","emailSignInComplete","SignUp","EmailSignUpForm","emailSignUpFormUpdate","emailSignUpError","customerInfoMap","address1","address2","fname","lname","zip","emailSignUpStart","emailSignUpComplete"],"mappings":"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","file":"app.d2fd5066a9f7115b01b3.js","sourcesContent":["/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { initialize } from \"./app\";\n/**\n * Fire-up React Router.\n */\ninitialize().then(({ provider }) => {\n  const reactRoot = window.document.getElementById(\"root\");\n  ReactDOM.render(provider, reactRoot);\n});\n\n\n/**\n * Detect whether the server-side render has been discarded due to an invalid checksum.\n */\nif (process.env.NODE_ENV !== \"production\") {\n  const reactRoot = window.document.getElementById(\"root\");\n  if (!reactRoot.firstChild || !reactRoot.firstChild.attributes ||\n    !reactRoot.firstChild.attributes[\"data-react-checksum\"]) {\n    console.error(\"Server-side React render was discarded. Make sure that your initial render does not contain any client-side code.\");\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/client.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\n\nimport React from \"react\";\nimport { createStore, compose, applyMiddleware, combineReducers} from \"redux\";\nimport { Provider, connect} from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport createLogger from 'redux-logger';\nimport { Route, IndexRoute, Link, IndexLink } from \"react-router\";\nimport { RouterContext } from 'react-router';\nimport { ReduxRouter} from \"redux-router\";\nimport { createHistory, createHashHistory, createMemoryHistory } from \"history\";\nimport { pushState, routerStateReducer, reduxReactRouter as clientRouter} from \"redux-router\";\nimport { reduxReactRouter as serverRouter } from \"redux-router/server\";\n\nimport mainReducer from './reducers';\n\nimport { configure as endpointsConfig } from './actions/configure';\nimport { visitLocation } from './actions/navigate';\nimport { requireAuthentication } from './components/AuthComponent';\nimport Container from \"./components/partials/Container\";\nimport MyAccounts from \"./views/MyAccounts\";\nimport Account from \"./views/Account\";\nimport SignIn from \"./views/SignIn\";\nimport SignUp from \"./views/SignUp\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <Container>\n        {this.props.children}\n      </Container>);\n  }\n}\n\nexport function initialize({cookies, isServer, currentLocation, userAgent} = {}) {\n\n  const reducer = combineReducers({\n    app: mainReducer,\n    router: routerStateReducer\n  });\n\n  let dispatch = null;\n\n  const onEnter = (nextState) => {\n    const { location } = nextState;\n    dispatch && dispatch(visitLocation(location));\n  };\n\n  const routes = (\n    <Route path=\"/\" component={ App }>\n      <IndexRoute component={ requireAuthentication(MyAccounts) } />\n      <Route path=\"signin\" component={ SignIn } onEnter={ onEnter } />\n      <Route path=\"register\" component={ SignUp } onEnter={ onEnter } />\n      <Route path=\"account/:accountId\" component={ requireAuthentication(Account) } />\n    </Route>\n  );\n\n  // these methods will differ from server to client\n  const reduxReactRouter    = isServer ? serverRouter : clientRouter;\n  const createHistoryMethod = isServer ? createMemoryHistory : createHashHistory;\n\n  // create the redux store\n  const store = compose(\n    applyMiddleware(thunk, createLogger()),\n    reduxReactRouter({\n      routes,\n      createHistory: createHistoryMethod\n    })\n  )(createStore)(reducer);\n\n  dispatch = store.dispatch;\n\n  /**\n   * The React Router 1.0 routes for both the server and the client.\n   */\n  return store.dispatch(endpointsConfig([\n    {\n      default: {\n        //apiUrl: '/',\n        emailSignInPath: '/api/login',\n        customersPath: '/api/customers',\n        currentUserPath: '/api/user',\n        accountsPath: '/api/accounts',\n        transfersPath: '/api/transfers'\n      }\n    }\n  ], {\n    cookies,\n    isServer,\n    currentLocation,\n    storage: 'localStorage',\n    tokenFormat: {\n      \"access-token\": \"{{ access-token }}\"\n    },\n    handleLoginResponse: function(resp) {\n      debugger;\n      return resp.data;\n    },\n\n    handleAccountUpdateResponse: function(resp) {\n      debugger;\n      return resp.data;\n    },\n\n    handleTokenValidationResponse: function(resp) {\n      debugger;\n      return resp.data;\n    }\n  })).then(({ redirectPath, blank } = {}) => {\n    // hack for material-ui server-side rendering.\n    // see https://github.com/callemall/material-ui/pull/2007\n    if (userAgent) {\n      global.navigator = {userAgent};\n    }\n\n    if (blank) {\n      // if `blank` is true, this is an OAuth redirect and should not\n      // be rendered\n      return <noscript />;\n    }\n\n    console.log(`redirect path: ${redirectPath}`);\n\n    return ({\n      blank,\n      store,\n      redirectPath,\n      provider: (\n        <Provider store={store} key=\"provider\">\n          <ReduxRouter children={routes} />\n        </Provider>\n      )\n    });\n  });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","// This file is copied to the root of the project to allow\n'use strict';\n\nexports.__esModule = true;\n\nvar _libServer = require('./lib/server');\n\nexports.reduxReactRouter = _libServer.reduxReactRouter;\nexports.match = _libServer.match;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux-router/server.js\n ** module id = 289\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports.match = match;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _redux = require('redux');\n\nvar _reduxReactRouter = require('./reduxReactRouter');\n\nvar _reduxReactRouter2 = _interopRequireDefault(_reduxReactRouter);\n\nvar _useDefaults = require('./useDefaults');\n\nvar _useDefaults2 = _interopRequireDefault(_useDefaults);\n\nvar _routeReplacement = require('./routeReplacement');\n\nvar _routeReplacement2 = _interopRequireDefault(_routeReplacement);\n\nvar _matchMiddleware = require('./matchMiddleware');\n\nvar _matchMiddleware2 = _interopRequireDefault(_matchMiddleware);\n\nvar _constants = require('./constants');\n\nfunction serverInvariants(next) {\n  return function (options) {\n    return function (createStore) {\n      if (!options || !(options.routes || options.getRoutes)) {\n        throw new Error('When rendering on the server, routes must be passed to the ' + 'reduxReactRouter() store enhancer; routes as a prop or as children of ' + '<ReduxRouter> is not supported. To deal with circular dependencies ' + 'between routes and the store, use the option getRoutes(store).');\n      }\n      if (!options || !options.createHistory) {\n        throw new Error('When rendering on the server, createHistory must be passed to the ' + 'reduxReactRouter() store enhancer');\n      }\n\n      return next(options)(createStore);\n    };\n  };\n}\n\nfunction matching(next) {\n  return function (options) {\n    return function (createStore) {\n      return function (reducer, initialState) {\n        var store = _redux.compose(_redux.applyMiddleware(_matchMiddleware2['default'](function (url, callback) {\n          var location = store.history.createLocation(url);\n\n          store.history.match(location, callback);\n        })), next(options))(createStore)(reducer, initialState);\n        return store;\n      };\n    };\n  };\n}\n\nfunction match(url, callback) {\n  return {\n    type: _constants.MATCH,\n    payload: {\n      url: url,\n      callback: callback\n    }\n  };\n}\n\nvar reduxReactRouter = _redux.compose(serverInvariants, _useDefaults2['default'], _routeReplacement2['default'], matching)(_reduxReactRouter2['default']);\nexports.reduxReactRouter = reduxReactRouter;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux-router/lib/server.js\n ** module id = 290\n ** module chunks = 0\n **/","'use strict';\n\nexports.__esModule = true;\nexports['default'] = matchMiddleware;\n\nvar _actionCreators = require('./actionCreators');\n\nvar _constants = require('./constants');\n\nfunction matchMiddleware(match) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type === _constants.MATCH) {\n          (function () {\n            var _action$payload = action.payload;\n            var url = _action$payload.url;\n            var callback = _action$payload.callback;\n\n            match(url, function (error, redirectLocation, routerState) {\n              if (!error && !redirectLocation && routerState) {\n                dispatch(_actionCreators.routerDidChange(routerState));\n              }\n              callback(error, redirectLocation, routerState);\n            });\n          })();\n        }\n        return next(action);\n      };\n    };\n  };\n}\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/redux-router/lib/matchMiddleware.js\n ** module id = 291\n ** module chunks = 0\n **/","/**\n * Created by andrew on 18/03/16.\n */\nimport { combineReducers } from 'redux';\n\nimport authStateReducer from './auth';\nimport appStateReducer from './data'\nimport uiReducer from './ui'\n\nconst mainReducer = combineReducers({\n  auth:   authStateReducer,\n  data:   appStateReducer,\n  ui: uiReducer\n});\n\nexport default mainReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/index.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport { combineReducers } from 'redux';\n\nimport { configReducer } from './configure';\nimport { authReducer } from './authenticate';\nimport { signInReducer } from './signin';\nimport { signUpReducer } from './signup';\nimport { signOutReducer } from './signout';\nimport { userReducer } from './user';\n\nconst authStateReducer = combineReducers({\n  configure: configReducer,\n  signIn: signInReducer,\n  signUp: signUpReducer,\n  signOut: signOutReducer,\n  authentication: authReducer,\n  user: userReducer\n});\n\nexport default authStateReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/index.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createDataReducer from '../createDataReducer';\n\nexport const configReducer = createDataReducer([\n    T.AUTH.CONFIGURE_START,\n    T.AUTH.CONFIGURE_COMPLETE,\n    T.AUTH.CONFIGURE_ERROR\n],\n  'config',\n  'config',\n  (c = {}) => ({ ...c })\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/configure.js\n **/","import { TODO_DEFINE, defineActionType } from '../utils/defineActionTypes'\n\nexport default defineActionType({\n\n  LOCATION: {\n    ENTER: TODO_DEFINE\n  },\n  /*\n   * View model\n   */\n  AUTH: {\n    CONFIGURE_START: TODO_DEFINE,\n    CONFIGURE_COMPLETE: TODO_DEFINE,\n    CONFIGURE_ERROR: TODO_DEFINE,\n    AUTHENTICATE_START: TODO_DEFINE,\n    AUTHENTICATE_COMPLETE: TODO_DEFINE,\n    AUTHENTICATE_ERROR: TODO_DEFINE,\n    SIGN_IN_START: TODO_DEFINE,\n    SIGN_IN_COMPLETE: TODO_DEFINE,\n    SIGN_IN_ERROR: TODO_DEFINE,\n    SIGN_IN_FORM_UPDATE: TODO_DEFINE,\n    SIGN_UP_START: TODO_DEFINE,\n    SIGN_UP_COMPLETE: TODO_DEFINE,\n    SIGN_UP_ERROR: TODO_DEFINE,\n    SIGN_UP_FORM_UPDATE: TODO_DEFINE,\n    SIGN_OUT_START: TODO_DEFINE,\n    SIGN_OUT_COMPLETE: TODO_DEFINE\n  },\n\n  ENTITIES: {\n    REQUESTED: TODO_DEFINE,\n    RECEIVED: TODO_DEFINE,\n    RECEIVED_LIST: TODO_DEFINE\n  },\n\n  ACCOUNTS: {\n    LIST_START: TODO_DEFINE,\n    LIST_COMPLETE: TODO_DEFINE,\n    LIST_ERROR: TODO_DEFINE,\n    LIST_REF_START: TODO_DEFINE,\n    LIST_REF_COMPLETE: TODO_DEFINE,\n    LIST_REF_ERROR: TODO_DEFINE,\n    CREATE_START: TODO_DEFINE,\n    CREATE_COMPLETE: TODO_DEFINE,\n    CREATE_ERROR: TODO_DEFINE,\n    CREATE_FORM_UPDATE: TODO_DEFINE,\n    EDIT_START: TODO_DEFINE,\n    EDIT_COMPLETE: TODO_DEFINE,\n    EDIT_ERROR: TODO_DEFINE,\n    EDIT_FORM_UPDATE: TODO_DEFINE,\n    CREATE_REF_START: TODO_DEFINE,\n    CREATE_REF_COMPLETE: TODO_DEFINE,\n    CREATE_REF_ERROR: TODO_DEFINE,\n    CREATE_REF_FORM_UPDATE: TODO_DEFINE,\n    CREATE_REF_OWNER_LOOKUP_START: TODO_DEFINE,\n    CREATE_REF_OWNER_LOOKUP_COMPLETE: TODO_DEFINE,\n    CREATE_REF_ACCOUNT_LOOKUP_START: TODO_DEFINE,\n    CREATE_REF_ACCOUNT_LOOKUP_COMPLETE: TODO_DEFINE\n  },\n\n  ACCOUNT: {\n    SINGLE_START: TODO_DEFINE,\n    SINGLE_COMPLETE: TODO_DEFINE,\n    SINGLE_ERROR: TODO_DEFINE,\n    DELETE_START: TODO_DEFINE,\n    DELETE_COMPLETE: TODO_DEFINE,\n    DELETE_ERROR: TODO_DEFINE\n  },\n  \n  TRANSFERS: {\n    MAKE_START: TODO_DEFINE,\n    MAKE_COMPLETE: TODO_DEFINE,\n    MAKE_ERROR: TODO_DEFINE,\n    MAKE_FORM_UPDATE: TODO_DEFINE,\n    LIST_START: TODO_DEFINE,\n    LIST_COMPLETE: TODO_DEFINE,\n    LIST_ERROR: TODO_DEFINE\n  },\n\n  ERROR: {\n    START:TODO_DEFINE,\n    STOP:TODO_DEFINE\n  }\n\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants/ACTION_TYPES.js\n **/","import invariant from 'invariant'\n\nexport const TODO_DEFINE = Symbol('Define property');\n\nexport const defineActionType = (obj) => {\n  const result = Object.keys(obj).reduce((memo, namespace) => {\n    const value = obj[namespace];\n    let types = [];\n    const namespaceTypes = {};\n\n    if (typeof value == 'string') {\n      types = value.trim().split(/\\s+/);\n    } else {\n      types = Object.keys(value)\n        .filter((key) => value[key] === TODO_DEFINE);\n    }\n\n    invariant(\n      /^[A-Z][A-Z0-9_]*$/.test(namespace),\n      \"Namespace names must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n    );\n\n    invariant(\n      (new Set(types)).size == types.length,\n      \"There must be no repeated action types passed to defineActionTypes\"\n    );\n\n    types.forEach(t => {\n      invariant(\n        /^[A-Z][A-Z0-9_]*$/.test(t),\n        \"Types must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n      );\n      namespaceTypes[t] = `@@app/${namespace}/${t}`;\n    });\n\n    memo[namespace] = namespaceTypes;\n\n    return memo;\n  }, {});\n\n  return result;\n\n};\n\nexport default function defineActionTypes(obj) {\n  const result = {}\n\n  for (let [namespace, value] of Object.entries(obj)) {\n    let types = value.trim().split(/\\s+/)\n    const namespaceTypes = {}\n\n    invariant(\n      /^[A-Z][A-Z0-9_]*$/.test(namespace),\n      \"Namespace names must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n    )\n    invariant(\n      (new Set(types)).size == types.length,\n      \"There must be no repeated action types passed to defineActionTypes\"\n    )\n\n    for (let type of types) {\n      invariant(\n        /^[A-Z][A-Z0-9_]*$/.test(type),\n        \"Types must start with a capital letter, and be composed entirely of capital letters, numbers, and the underscore character.\"\n      )\n\n      namespaceTypes[type] = `@@app/${namespace}/${type}`\n    }\n\n    result[namespace] = namespaceTypes\n  }\n\n  return result\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/defineActionTypes.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\n\nexport const createByIdDataReducer = ([KEY_REQUEST, KEY_SUCCESS, KEY_ERROR], next) => (state = {}, action) => {\n  switch (action.type) {\n    case KEY_REQUEST:\n    case KEY_SUCCESS:\n    case KEY_ERROR: {\n      if (!action.id) {\n        debugger;\n      }\n      if (state.errors) {\n        debugger;\n      }\n      return {\n        ...state,\n        [action.id]: next(state, action)\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst createDataReducer = ([KEY_REQUEST, KEY_SUCCESS, KEY_ERROR], payloadActionNameProp = 'payload', payloadStateNameProp = 'data', payloadAssignFn = (k = []) => [...k]) => {\n\n  const initialState = {\n    loading: false,\n    errors: {},\n    [payloadStateNameProp]: payloadAssignFn()\n  };\n\n  return function formReducer(state = {...initialState}, action) {\n    switch(action.type) {\n      case KEY_REQUEST: {\n        return {\n          ...state,\n          loading: true\n        }\n      }\n      case KEY_SUCCESS: {\n        const payload = action[payloadActionNameProp];\n        return {\n          ...initialState,\n          [payloadStateNameProp]: payloadAssignFn(payload)\n        };\n      }\n      case KEY_ERROR:\n      {\n        const {error} = action;\n        return {\n          ...state,\n          loading: false,\n          errors: Object.isSealed(error) ? {aggregate: error} : {...error}\n        }\n      }\n\n      default:\n        return state;\n    }\n  };\n};\n\nexport default createDataReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/createDataReducer.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst initialState = {\n  loading: false,\n  valid: false,\n  errors: null\n};\n\nexport const authReducer = (state = {...initialState}, action) => {\n  switch(action.type) {\n    case T.AUTH.AUTHENTICATE_START:\n      return {\n        ...state,\n        loading: true\n      };\n\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n      return {\n        ...state,\n        loading: false,\n        errors: null,\n        valid: true\n      };\n\n    case T.AUTH.AUTHENTICATE_ERROR:\n      return {\n        ...state,\n        loading: false,\n        errors: \"Invalid token\",\n        valid: false\n      };\n\n    default: return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/authenticate.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createFormReducer from '../createFormReducer';\n\nconst internalSignInReducer = createFormReducer([\n  T.AUTH.SIGN_IN_START,\n  T.AUTH.SIGN_IN_COMPLETE,\n  T.AUTH.SIGN_IN_ERROR,\n  T.AUTH.SIGN_IN_FORM_UPDATE\n]);\n\nexport const signInReducer = (state, action) => {\n  switch (action.type) {\n    case T.LOCATION.ENTER: {\n      const { location } = action;\n      const { pathname } = location;\n      if (pathname == '/signin') {\n        return internalSignInReducer(state, {\n          type: T.AUTH.SIGN_IN_ERROR,\n          error: null\n        });\n      }\n      return state;\n    }\n\n    default: {\n      return internalSignInReducer(state, action);\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/signin.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\n\nconst createFormReducer = ([KEY_REQUEST, KEY_SUCCESS, KEY_ERROR, KEY_UPDATE]) => {\n\n  const initialState = {\n    loading: false,\n    form: {},\n    errors: {}\n  };\n\n  return function formReducer(state = {...initialState}, action) {\n    switch(action.type) {\n      case KEY_REQUEST: {\n        return {\n          ...state,\n          loading: true\n        }\n      }\n      case KEY_ERROR: {\n        const { error } = action;\n        return {\n          ...state,\n          loading: false,\n          errors: error\n        }\n      }\n      case KEY_SUCCESS: {\n        return {\n          ...initialState\n        }\n      }\n      case KEY_UPDATE: {\n        const { key, value } = action;\n        return {\n          ...state,\n          form: {\n            ...state.form,\n            [key]: value\n          },\n          errors: {\n            ...state.errors,\n            aggregate: null,\n            [key]: null\n          }\n        }\n      }\n\n      default:\n        return state;\n    }\n  };\n};\n\nexport default createFormReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/createFormReducer.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createFormReducer from '../createFormReducer';\n\nexport const internalSignUpReducer = createFormReducer([\n  T.AUTH.SIGN_UP_START,\n  T.AUTH.SIGN_UP_COMPLETE,\n  T.AUTH.SIGN_UP_ERROR,\n  T.AUTH.SIGN_UP_FORM_UPDATE\n]);\n\n\nexport const signUpReducer = (state, action) => {\n  switch (action.type) {\n    case T.LOCATION.ENTER: {\n      const { location } = action;\n      const { pathname } = location;\n      if (pathname == '/register') {\n        return internalSignUpReducer(state, {\n          type: T.AUTH.SIGN_UP_ERROR,\n          error: null\n        });\n      }\n      return state;\n    }\n\n    default: {\n      return internalSignUpReducer(state, action);\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/signup.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst signOutInitialState = {\n  loading: false,\n  errors: null\n};\n\nexport const signOutReducer = (state = {...signOutInitialState}, action) => {\n  switch(action.type) {\n    case T.AUTH.SIGN_OUT_START:\n      return {\n        ...state,\n        loading: true\n      };\n    case T.AUTH.SIGN_OUT_COMPLETE:\n      return {\n        ...state,\n        loading: false,\n        errors: null\n      };\n    default: return state;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/signout.js\n **/","/**\n * Created by andrew on 25/02/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst initalState = {\n  attributes: null,\n  isSignedIn: false\n};\n\nexport const userReducer = (state = {...initalState}, action) => {\n  switch(action.type) {\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n    case T.AUTH.SIGN_IN_COMPLETE: {\n      const { user } = action;\n      return {...state,\n        attributes: user,\n        isSignedIn: !!user\n      };\n    }\n    case T.AUTH.SIGN_OUT_COMPLETE:\n    case T.AUTH.AUTHENTICATE_ERROR:\n      return {\n        ...initalState\n      };\n    default: return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/auth/user.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\nimport { combineReducers } from 'redux';\n\nimport { accounts } from './accounts';\nimport { transfers } from './transfers';\nimport { entities } from './entities';\nimport { bookmarkAccount } from './bookmarkAccount';\n\nconst dataReducer = combineReducers({\n  transfers,\n  entities,\n  accounts,\n  bookmarkAccount\n});\n\nexport default dataReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/index.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport { combineReducers } from 'redux';\nimport createFormReducer from '../createFormReducer';\n\nconst ownAccountsReducer = (state = [], action ) => {\n  switch (action.type) {\n    case T.ACCOUNTS.LIST_COMPLETE: {\n      const { payload = [] } = action;\n      //const accounts = Object.keys(payload).map(key => payload[key]);\n      return [\n        ...payload\n      ];\n    }\n    default: return state;\n  }\n};\n\nconst otherAccountsReducer = (state = [], action ) => {\n  switch (action.type) {\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n    case T.AUTH.SIGN_IN_COMPLETE: {\n      const { user } = action;\n      const { toAccounts = [] } = user;\n      return otherAccountsReducer(state, {\n        type: T.ACCOUNTS.LIST_REF_COMPLETE,\n        payload: toAccounts\n      });\n    }\n\n    case T.ACCOUNTS.LIST_REF_COMPLETE: {\n      const { payload = {} } = action;\n      const accounts = Object.keys(payload).map(key => payload[key]);\n      return [\n        ...accounts\n      ];\n    }\n\n    default: return state;\n  }\n};\n\n\nconst createAccountReducer = createFormReducer([\n  T.ACCOUNTS.CREATE_START,\n  T.ACCOUNTS.CREATE_COMPLETE,\n  T.ACCOUNTS.CREATE_ERROR,\n  T.ACCOUNTS.CREATE_FORM_UPDATE\n]);\n\nconst editAccountReducer = createFormReducer([\n  T.ACCOUNTS.EDIT_START,\n  T.ACCOUNTS.EDIT_COMPLETE,\n  T.ACCOUNTS.EDIT_ERROR,\n  T.ACCOUNTS.EDIT_FORM_UPDATE\n]);\n\nexport const accounts = combineReducers({\n  own: ownAccountsReducer,\n  other: otherAccountsReducer,\n  create: createAccountReducer,\n  edit: editAccountReducer\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/accounts.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport  createListReducer from '../createDataReducer';\nimport {createByIdDataReducer } from '../createDataReducer';\n\nconst selectedEvents = [\n  T.TRANSFERS.LIST_START,\n  T.TRANSFERS.LIST_COMPLETE,\n  T.TRANSFERS.LIST_ERROR\n];\n\nexport const transfers = createByIdDataReducer(selectedEvents, createListReducer(selectedEvents));\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/transfers.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst initialState = {\n};\n\nconst nodeInitialState = {\n  loading: false,\n  data: {}\n};\n\nexport const entities = (state = {...initialState}, action) => {\n  if (typeof action.length !== 'undefined') {\n    debugger;\n  }\n  switch(action.type) {\n    case T.ENTITIES.REQUESTED: {\n      const { id } = action;\n      return {\n        ...state,\n        [id]: null\n      }\n    }\n    case T.ENTITIES.RECEIVED: {\n      const { id, entity = {} } = action;\n      return {\n        ...state,\n        [id]: {\n          ...entity\n        }\n      }\n    }\n\n    case T.AUTH.AUTHENTICATE_COMPLETE:\n    case T.AUTH.SIGN_IN_COMPLETE:\n    {\n      const { user } = action;\n      const { toAccounts = [] } = user;\n      return {\n        ...state,\n        ...toAccounts\n      };\n\n    }\n    case T.ACCOUNTS.LIST_COMPLETE: {\n      const { payload } = action;\n      const hashMap = payload.reduce((memo, item) => {\n        memo[item.accountId] = item;\n        return memo;\n      }, {});\n      return {\n        ...state,\n        ...hashMap\n      };\n    }\n\n    case T.ACCOUNT.SINGLE_COMPLETE: {\n      const { payload = {} } = action;\n      const { accountId } = payload;\n      if (!accountId) {\n        return state;\n      }\n      return {\n        ...state,\n        [accountId]: payload\n      };\n    }\n    case T.ENTITIES.RECEIVED_LIST:\n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/entities.js\n **/","/**\n * Created by andrew on 18/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\n\nconst optionsLoaderInitialState = {\n  loading: false,\n  options: [],\n  value: ''\n};\n\nconst initialState = {\n  loading: false,\n  form: {},\n  errors: {},\n  accountsDisabled: true,\n\n  ownersLookup: {\n    ...optionsLoaderInitialState\n  },\n  accountsLookup: {\n    ...optionsLoaderInitialState\n  }\n};\n\nconst optionsLoaderReducer = (state = {...optionsLoaderInitialState}, action) => {\n  switch (action.type) {\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_START:\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_START: {\n      const value = action.payload;\n      return {\n        ...state,\n        loading: true,\n        value\n      };\n    }\n\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_COMPLETE:\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_COMPLETE: {\n      const { payload } = action;\n      return {\n        ...state,\n        loading: false,\n        options: payload === null ? state.options : payload\n      };\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport const bookmarkAccount = (state = {...initialState}, action) => {\n  switch (action.type) {\n    case T.ACCOUNTS.CREATE_REF_START: {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_COMPLETE:{\n      return {\n        ...initialState\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_ERROR: {\n      const { error } = action;\n      return {\n        ...state,\n        loading: false,\n        errors: error\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_FORM_UPDATE:{\n      const { key, value } = action;\n      const isOwnerSetBlank = ((key == 'owner') && !value);\n      const isOwnerSelected = ((key == 'owner') && value);\n      const nextAccountsDisabled = isOwnerSelected ? false : state.accountsDisabled;\n\n      const nextForm = isOwnerSetBlank ? {\n        ...state.form,\n        account: null,\n        [key]: value\n      } : {\n        ...state.form,\n        [key]: value\n      };\n\n      const nextErrors = {\n        ...state.errors,\n        [key]: null\n      };\n      return {\n        ...state,\n        accountsDisabled: nextAccountsDisabled,\n        form: nextForm,\n        errors: nextErrors\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_START:\n    case T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_COMPLETE: {\n      return {\n        ...state,\n        ownersLookup:\n          optionsLoaderReducer(state.ownersLookup, action)\n      };\n    }\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_START:\n    case T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_COMPLETE: {\n      return {\n        ...state,\n        accountsLookup:\n          optionsLoaderReducer(state.accountsLookup, action)\n      };\n    }\n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/data/bookmarkAccount.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 25/02/16.\n */\nimport { combineReducers } from 'redux';\n\nimport { account } from './account';\nimport { error } from './errors';\nimport { bookmarkAccount } from './bookmarkAccount';\nimport { transfersMake } from './transfersMake';\n\n\nconst uiReducer = combineReducers({\n  account,\n  error,\n  bookmarkAccount,\n  transfersMake\n});\n\nexport default uiReducer;\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/index.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport { combineReducers } from 'redux';\n\n\nconst initialState = {\n  loading: false,\n  errors: []\n};\n\nexport const account = (state = { ...initialState }, action ) => {\n  switch(action.type) {\n    case T.ACCOUNT.SINGLE_START: {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n    case T.ACCOUNT.SINGLE_COMPLETE: {\n      return {\n        ...initialState\n      };\n    }\n    case T.ACCOUNT.SINGLE_ERROR: {\n      const { error } = action;\n      return {\n        ...state,\n        loading: false,\n        errors: [ error ]\n      };\n\n    }\n\n    default:\n      return state;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/account.js\n **/","/**\n * Created by andrew on 18/03/16.\n */\n\nimport T from '../../constants/ACTION_TYPES';\n\nexport const error = (state = null, action ) => {\n  switch (action.type) {\n    case T.ERROR.STOP: {\n      return null;\n    }\n    case T.ERROR.START:\n      return action.payload;\n    \n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/errors.js\n **/","/**\n * Created by andrew on 18/03/16.\n */\nexport const bookmarkAccount = (state = {}, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/bookmarkAccount.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\n/**\n * Created by andrew on 15/03/16.\n */\nimport T from '../../constants/ACTION_TYPES';\nimport createFormReducer from '../createFormReducer';\n\nexport const transfersMake = createFormReducer([\n  T.TRANSFERS.MAKE_START,\n  T.TRANSFERS.MAKE_COMPLETE,\n  T.TRANSFERS.MAKE_ERROR,\n  T.TRANSFERS.MAKE_FORM_UPDATE\n]);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/reducers/ui/transfersMake.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport { authenticate } from \"./authenticate\";\nimport { applyConfig } from \"../utils/clientSettings\";\n\nexport const SET_ENDPOINT_KEYS = \"SET_ENDPOINT_KEYS\";\n\nexport function setEndpointKeys(endpoints, currentEndpointKey, defaultEndpointKey) {\n  return {\n    type: SET_ENDPOINT_KEYS,\n    endpoints,\n    currentEndpointKey,\n    defaultEndpointKey\n  };\n}\n\nexport function configure(endpoint={}, settings={}) {\n\n  return dispatch => {\n\n    return applyConfig({ dispatch, endpoint, settings })\n      .then(() => {\n        return dispatch(authenticate());\n      });\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/configure.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport * as U from '../utils/sessionStorage';\nimport { apiGetCurrentUser } from '../utils/api';\nimport { entityReceived } from './entities';\n\nexport const authenticateStart = makeActionCreator(T.AUTH.AUTHENTICATE_START);\nexport const authenticateComplete = makeActionCreator(T.AUTH.AUTHENTICATE_COMPLETE, 'user');\nexport const authenticateError = makeActionCreator(T.AUTH.AUTHENTICATE_ERROR, 'errors');\n\nexport function authenticate(forceReread) {\n  return (dispatch) => {\n\n    dispatch(authenticateStart());\n\n    const savedUserPromise = new Promise((rs, rj) => {\n\n      const currentHeaders = U.retrieveHeaders();\n      const accessToken = currentHeaders[\"access-token\"];\n\n      if (!accessToken) {\n        return rj({ reason: 'no token'});\n      }\n\n      const savedUser = U.retrieveUserData();\n\n      if (savedUser && !forceReread) {\n        return rs(savedUser);\n      }\n\n      return apiGetCurrentUser().then((userData) => {\n        U.persistUserData(userData);\n        dispatch(entityReceived(userData.id, userData));\n        rs(userData);\n      }, (err) => {\n        rj(err);\n      });\n\n    });\n\n\n    return savedUserPromise\n      .then(user => {\n\n        dispatch(authenticateComplete(user));\n\n        return user;\n      })\n      .catch(({reason} = {}) => {\n\n        dispatch(authenticateError([reason]));\n\n        return Promise.resolve({reason});\n      });\n\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/authenticate.js\n **/","/**\n * Created by andrew on 15/03/16.\n */\nexport function makeActionCreator(type, ...argNames) {\n  return function(...args) {\n    return argNames.reduce((action, arg, index) => {\n      action[arg] = args[index];\n      return action;\n    }, { type });\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/actions.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport Cookies from 'js-cookie';\nimport * as C from \"./constants\";\nimport root from './root';\n\n// stateful variables that persist throughout session\nconst authState = {\n  currentSettings:    {},\n  currentEndpoint:    {},\n  defaultEndpointKey: 'default'\n};\n\nconst memoryStorage = {};\n\nfunction clean(obj) {\n  Object.keys(obj).forEach(k => {\n    delete obj[k];\n  });\n  return obj;\n}\n\nexport function setCurrentSettings (s) {\n  authState.currentSettings = s;\n}\n\nexport function setCurrentEndpoint (e) {\n  authState.currentEndpoint = e;\n}\n\n\n/**\n * @deprecated\n * @param k\n */\nexport function setCurrentEndpointKey (k) {\n  persistData(C.SAVED_CONFIG_KEY, k || getDefaultEndpointKey());\n}\n\n/**\n * @deprecated\n * @param k\n */\nexport function setDefaultEndpointKey (k) {\n  persistData(C.DEFAULT_CONFIG_KEY, k);\n}\n\nexport function getDefaultEndpointKey () {\n  return retrieveData(C.DEFAULT_CONFIG_KEY);\n}\n\n// reset stateful variables\nexport function resetConfig () {\n  clean(authState);\n  authState.currentSettings    = {};\n  authState.currentEndpoint    = {};\n  destroySession();\n}\n\n\nexport function destroySession () {\n\n  ([\n    C.SAVED_CREDS_KEY,\n    C.SAVED_CONFIG_KEY,\n    C.SAVED_USER_INFO\n  ]).forEach(key => {\n    // kill all local storage keys\n    if (root.localStorage) {\n      root.localStorage.removeItem(key);\n    }\n\n    // remove from base path in case config is not specified\n    Cookies.remove(key, {\n      path: authState.currentSettings.cookiePath || \"/\"\n    });\n  });\n\n  clean(memoryStorage);\n}\n\nfunction unescapeQuotes (val) {\n  return val && val.replace(/(\"|')/g, \"\");\n}\n\nexport function getInitialEndpointKey () {\n  return unescapeQuotes(\n    Cookies.get(C.SAVED_CONFIG_KEY) ||\n    (root.localStorage && root.localStorage.getItem(C.SAVED_CONFIG_KEY))\n  );\n}\n\nexport function isApiRequest(url) {\n  return true;\n}\n\nexport function getTokenFormat() {\n  return authState.currentSettings.tokenFormat;\n}\n\nexport const persistUserData = (user) => {\n  memoryStorage[C.SAVED_USER_INFO] = user;\n};\n\nexport const retrieveUserData = () =>{\n  return memoryStorage[C.SAVED_USER_INFO];\n};\n\nexport function retrieveHeaders() {\n  return retrieveData(C.SAVED_CREDS_KEY) || {};\n}\n\nexport function persistData (key, val) {\n  val = root.JSON.stringify(val);\n\n  switch (authState.currentSettings.storage) {\n    case \"localStorage\":\n      root.localStorage.setItem(key, val);\n      break;\n\n    default:\n      Cookies.set(key, val, {\n        expires: authState.currentSettings.cookieExpiry,\n        path:    authState.currentSettings.cookiePath\n      });\n      break;\n  }\n}\n\nexport function retrieveData (key) {\n  let val = null;\n\n  switch (authState.currentSettings.storage) {\n\n    case \"localStorage\":\n      val = root.localStorage && root.localStorage.getItem(key);\n      break;\n\n    default:\n      val = Cookies.get(key);\n      break;\n  }\n\n  // if value is a simple string, the parser will fail. in that case, simply\n  // unescape the quotes and return the string.\n  try {\n    // return parsed json response\n    return JSON.parse(val);\n  } catch (err) {\n    // unescape quotes\n    return unescapeQuotes(val);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/sessionStorage.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nexport const INITIAL_CONFIG_KEY = \"default\";\nexport const DEFAULT_CONFIG_KEY = \"defaultConfigKey\";\nexport const SAVED_CONFIG_KEY   = \"currentConfigName\";\nexport const SAVED_CREDS_KEY    = \"authHeaders\";\nexport const SAVED_USER_INFO    = \"user-info\";\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/constants.js\n **/","/**\n * Created by andrew on 27/02/16.\n */\n// even though this code shouldn't be used server-side, node will throw\n// errors if \"window\" is used\nexport default Function(\"return this\")() || (42, eval)(\"this\");\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/root.js\n **/","/**\n * Created by andrew on 12/03/16.\n */\nimport authedFetch from './fetch';\nimport * as ENDPOINTS from './apiEndpoints';\nimport root from './root';\nimport { parseResponse } from \"./handleFetchResponse\";\n\nconst JSON_HEADERS = {\n  headers: {\n    \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n  }\n};\n\nconst METHODS = {\n  DELETE: {\n    ...JSON_HEADERS,\n    method: \"delete\"\n  },\n  GET: {\n    ...JSON_HEADERS,\n    method: \"get\"\n  },\n  POST: {\n    ...JSON_HEADERS,\n    method: \"post\"\n  }\n};\n\nconst fetch = (...args) => authedFetch(...args).then(parseResponse);\n\nexport const apiSignIn = (body) => fetch(ENDPOINTS.emailSignIn(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify(body)\n});\n\nexport const apiSignUp = (body) => fetch(ENDPOINTS.emailSignUp(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify(body)\n});\n\nexport const apiGetCurrentUser = () => fetch(ENDPOINTS.currentUser(), {\n  ...METHODS.GET\n});\n\nexport const apiCreateAccount = (customerId, {\n  title,\n  balance: initialBalance,\n  description }) => fetch(ENDPOINTS.accountsPath(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify({\n    customerId,\n    title,\n    initialBalance,\n    description })\n});\n\nexport const apiCreateRefAccount = (customerId, {\n  owner, account: accountId, title, description }) => fetch(ENDPOINTS.refAccounts(customerId), {\n  ...METHODS.POST,\n  body: root.JSON.stringify({\n    owner,\n    id: accountId,\n    title,\n    description })\n});\n\nexport const apiMakeTransfer = (fromAccountId, {\n  account, amount, description }) => fetch(ENDPOINTS.transfers(), {\n  ...METHODS.POST,\n  body: root.JSON.stringify({\n    amount,\n    fromAccountId,\n    \"toAccountId\": account,\n    description\n  })\n});\n\nexport const apiRetrieveAccounts = (customerId) => fetch(ENDPOINTS.customersAccounts(customerId), {\n  ...METHODS.GET\n});\n\nexport const apiRetrieveTransfers = (accountId) => fetch(ENDPOINTS.history(accountId), {\n  ...METHODS.GET\n});\n\nexport const apiRetrieveAccount = (accountId) => fetch(ENDPOINTS.account(accountId), {\n  ...METHODS.GET\n});\n\nexport const apiDeleteAccount = (customerId, accountId) => fetch(ENDPOINTS.account(accountId), {\n  ...METHODS.DELETE\n});\n\nexport const apiDeleteRefAccount = (customerId, accountId) => fetch(ENDPOINTS.refAccount(customerId, accountId), {\n  ...METHODS.DELETE\n});\n\nexport const apiRetrieveUsers = (email) => fetch(ENDPOINTS.customersLookup({ email }), {\n  ...METHODS.GET\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/api.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport originalFetch from \"isomorphic-fetch\";\nimport * as C from \"./constants\";\n\nimport {\n  retrieveData,\n  persistData,\n  getTokenFormat,\n  isApiRequest\n} from \"./sessionStorage\";\n\n\nfunction getAuthHeaders(url) {\n  if (isApiRequest(url)) {\n    // fetch current auth headers from storage\n    let currentHeaders = retrieveData(C.SAVED_CREDS_KEY) || {},\n      nextHeaders = {};\n\n    if (currentHeaders === 'undefined') {\n      currentHeaders = {};\n    }\n    // bust IE cache\n    nextHeaders[\"If-Modified-Since\"] = \"Mon, 26 Jul 1997 05:00:00 GMT\";\n\n    // set header for each key in `tokenFormat` config\n    for (var key in getTokenFormat()) {\n      if (key in currentHeaders) {\n        nextHeaders[key] = currentHeaders[key];\n      }\n    }\n\n    return nextHeaders;\n  } else {\n    return {};\n  }\n}\n\nfunction updateAuthCredentials(resp) {\n\n  // set header for each key in `tokenFormat` config\n  const newHeaders = {};\n\n  // set flag to ensure that we don't accidentally nuke the headers\n  // if the response tokens aren't sent back from the API\n  let blankHeaders = true;\n\n  // set header key + val for each key in `tokenFormat` config\n  for (let key in getTokenFormat()) {\n    newHeaders[key] = resp.headers.get(key);\n\n    if (newHeaders[key]) {\n      blankHeaders = false;\n    }\n  }\n\n  // persist headers for next request\n  if (!blankHeaders) {\n    persistData(C.SAVED_CREDS_KEY, newHeaders);\n  }\n\n  return resp;\n}\n\nexport default function (url, options = {}) {\n\n  if (!options.headers) {\n    options.headers = {}\n  }\n\n  options.headers = {\n    ...options.headers,\n    ...getAuthHeaders(url)\n  };\n\n  //extend(options.headers, getAuthHeaders(url));\n  return originalFetch(url, options)\n    .then(resp => updateAuthCredentials(resp));\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/fetch.js\n **/","/**\n * Created by andrew on 9/16/16.\n */\nconst API_ROOT = '/api';\n\nexport const emailSignIn = () => API_ROOT + '/login';\nexport const emailSignUp = () => API_ROOT + '/customers';\nexport const currentUser = () => API_ROOT + '/user';\nexport const accountsPath = () => API_ROOT + '/accounts';\nexport const customersLookup = (lookup) => `${API_ROOT}/customers?${ makeQuery(lookup) }`;\nexport const customersAccounts = (customerId) => `${API_ROOT}/customers/${customerId}/accounts`;\nexport const refAccounts = (customerId) => `${API_ROOT}/customers/${customerId}/toaccounts`;\nexport const refAccount = (customerId, accountId) => `${API_ROOT}/customers/${customerId}/toaccounts/${accountId}`;\nexport const account = (accountId) => `${API_ROOT}/accounts/${accountId}`;\nexport const history = (accountId) => `${API_ROOT}/accounts/${accountId}/history`;\nexport const transfers = () => API_ROOT + '/transfers';\n\nfunction makeQuery(params) {\n  return Object.keys(params)\n    .map(key => [ encodeURIComponent(key), encodeURIComponent(params[key]) ].join('='))\n    .join('&');\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/apiEndpoints.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nexport function parseResponse (response) {\n  let json = response.json();\n  if (response.status >= 200 && response.status < 300) {\n    return json;\n  } else {\n\n    //error: \"Bad Request\"\n    //exception: \"org.springframework.web.bind.MethodArgumentNotValidException\"\n    //message: \"Validation failed for argument at index 0 in method: public rx.Observable<net.chrisrichardson.eventstore.javaexamples.banking.common.customers.CustomerResponse> net.chrisrichardson.eventstore.javaexamples.banking.web.commandside.customers.CustomerController.createCustomer(net.chrisrichardson.eventstore.javaexamples.banking.common.customers.CustomerInfo), with 3 error(s): [Field error in object 'customerInfo' on field 'ssn': rejected value [null]; codes [NotNull.customerInfo.ssn,NotNull.ssn,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerInfo.ssn,ssn]; arguments []; default message [ssn]]; default message [may not be null]] [Field error in object 'customerInfo' on field 'email': rejected value [null]; codes [NotNull.customerInfo.email,NotNull.email,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerInfo.email,email]; arguments []; default message [email]]; default message [may not be null]] [Field error in object 'customerInfo' on field 'phoneNumber': rejected value [null]; codes [NotNull.customerInfo.phoneNumber,NotNull.phoneNumber,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [customerInfo.phoneNumber,phoneNumber]; arguments []; default message [phoneNumber]]; default message [may not be null]] \"\n    //path: \"/customers\"\n    //status: 400\n    //timestamp: 1458002123103\n\n    return json.then(({ message, ...rest }) => {\n      if (!message) {\n        return rest;\n      }\n      const jvmPattern = /\\[Field error in object '\\w+' on field '(\\w+)'/gm;\n      let errors = {};\n      message.replace(jvmPattern, (m, name) => {\n        errors[name] = ['Required'];\n      });\n\n      if (Object.keys(errors).length) {\n        return { errors };\n      }\n      return { errors: message };\n    }).then(err => Promise.reject(err));\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/handleFetchResponse.js\n **/","/**\n * Created by andrew on 27/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport * as api from '../utils/api';\nimport { authenticate } from './authenticate';\nimport root from '../utils/root';\n\nexport const entityRequested = makeActionCreator(T.ENTITIES.REQUESTED, 'id');\nexport const entityReceived = makeActionCreator(T.ENTITIES.RECEIVED, 'id', 'entity');\n\nexport const accountsListRequested = makeActionCreator(T.ACCOUNTS.LIST_START);\nexport const accountsListReceived = makeActionCreator(T.ACCOUNTS.LIST_COMPLETE, 'payload');\nexport const accountsListError = makeActionCreator(T.ACCOUNTS.LIST_ERROR, 'error');\n\nexport const accountsRefListReceived = makeActionCreator(T.ACCOUNTS.LIST_REF_COMPLETE, 'payload');\n\nexport const accountCreateStart = makeActionCreator(T.ACCOUNTS.CREATE_START);\nexport const accountCreateComplete = makeActionCreator(T.ACCOUNTS.CREATE_COMPLETE, 'payload');\nexport const accountCreateError = makeActionCreator(T.ACCOUNTS.CREATE_ERROR, 'error');\nexport const accountCreateFormUpdate = makeActionCreator(T.ACCOUNTS.CREATE_FORM_UPDATE, 'key', 'value');\n\nexport const accountRefCreateStart = makeActionCreator(T.ACCOUNTS.CREATE_REF_START);\nexport const accountRefCreateComplete = makeActionCreator(T.ACCOUNTS.CREATE_REF_COMPLETE, 'payload');\nexport const accountRefCreateError = makeActionCreator(T.ACCOUNTS.CREATE_REF_ERROR, 'error');\nexport const accountRefCreateFormUpdate = makeActionCreator(T.ACCOUNTS.CREATE_REF_FORM_UPDATE,  'key', 'value');\n\nexport const accountRequested = makeActionCreator(T.ACCOUNT.SINGLE_START);\nexport const accountComplete = makeActionCreator(T.ACCOUNT.SINGLE_COMPLETE, 'payload');\nexport const accountError = makeActionCreator(T.ACCOUNT.SINGLE_ERROR, 'error');\n\n\nexport function accountsList(customerId) {\n  return dispatch => {\n    dispatch(accountsListRequested());\n    return api.apiRetrieveAccounts(customerId)\n      .then(({ accounts = []}) => {\n        dispatch(accountsListReceived(accounts));\n      })\n      .catch(err => {\n        dispatch(accountsListError(err));\n        return Promise.resolve({ error: err });\n      })\n  };\n}\n\nfunction readUntilChanged(initialData, customerId) {\n  const initialDataFlat = root['JSON'].stringify(initialData);\n  return new Promise((rs, rj) => {\n    setTimeout(() => {\n      api.apiRetrieveAccounts(customerId)\n        .then(data => {\n          debugger;\n          if (initialDataFlat == root['JSON'].stringify(data)) {\n            return readUntilChanged.call(this, data, customerId).then(rs, rj); // Promise\n          }\n          rs(data);\n        })\n        .catch(rj)\n    }, 500);\n  })\n}\n\nexport function accountCreate(customerId, payload) {\n  return dispatch => {\n    dispatch(accountCreateStart());\n    return api.apiCreateAccount(customerId, payload)\n      .then(data => {\n        if (data.accountId) {\n          const { accountId } = data;\n          dispatch(accountCreateComplete({\n            id: accountId,\n            ...payload\n          }));\n          // dispatch(entityReceived(accountId, payload));\n          dispatch(authenticate(true));\n          return accountId;\n        } else {\n          return readUntilChanged(data, customerId)\n            .then(() => {\n              dispatch(accountCreateComplete({\n                id: ''\n              }));\n              dispatch(authenticate(true));\n            });\n        }\n      })\n      .catch(err => {\n        debugger;\n        dispatch(accountCreateError(err));\n        // return Promise.resolve({ error: err });\n      });\n  };\n}\n\nexport function accountRefCreate(customerId, payload) {\n  return dispatch => {\n    dispatch(accountRefCreateStart());\n    return api.apiCreateRefAccount(customerId, payload)\n      .then(({ id }) => {\n        dispatch(accountRefCreateComplete({\n          ...payload,\n          id\n        }));\n        dispatch(entityReceived(id, payload));\n        return dispatch(authenticate(true));\n      })\n      .catch(err => {\n        debugger;\n        dispatch(accountRefCreateError(err));\n        return Promise.resolve({ error: err });\n      })\n  };\n}\n\n\n\n\nexport function fetchOwnAccounts(customerId) {\n  return dispatch => {\n    //dispatch(accountsListRequested());\n    return api.apiRetrieveAccounts(customerId)\n      .then(data => {\n        dispatch(accountsListReceived(data.accounts));\n      });\n  };\n}\n\nexport function fetchAccount(accountId) {\n  return dispatch => {\n    dispatch(accountRequested());\n    return api.apiRetrieveAccount(accountId)\n      .then(data => {\n        dispatch(accountComplete(data));\n      })\n      .catch(err => {\n        dispatch(accountError(err));\n      });\n  };\n}\n\nexport const deleteAccountRequested = makeActionCreator(T.ACCOUNT.DELETE_START);\nexport const deleteAccountComplete = makeActionCreator(T.ACCOUNT.DELETE_COMPLETE);\nexport const deleteAccountError = makeActionCreator(T.ACCOUNT.DELETE_ERROR);\n\nexport function deleteAccount(customerId, accountId, isRef) {\n  return dispatch => {\n    dispatch(deleteAccountRequested());\n\n    const deleteApiAction = (isRef ?\n      api.apiDeleteRefAccount(customerId, accountId) :\n      api.apiDeleteAccount(customerId, accountId));\n\n    return deleteApiAction\n      .then(data => {\n        dispatch(deleteAccountComplete(data));\n        return Promise.resolve(data);\n      })\n      .catch(err => {\n        dispatch(deleteAccountError(err));\n        return Promise.reject(err);\n      })\n  };\n}\n\nexport const errorMessageStart = makeActionCreator(T.ERROR.START, 'payload');\nexport const errorMessageStop = makeActionCreator(T.ERROR.STOP);\n\nexport function errorMessageTimedOut(error, timeout) {\n  return dispatch => {\n    dispatch(errorMessageStart(error));\n    setTimeout(() => {\n      dispatch(errorMessageStop());\n    }, timeout || 5000);\n  };\n}\n\nexport const createRefOwnerLookupStart = makeActionCreator(T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_START, 'payload');\nexport const createRefOwnerLookupComplete = makeActionCreator(T.ACCOUNTS.CREATE_REF_OWNER_LOOKUP_COMPLETE, 'payload');\n\nexport const createRefAccountLookupStart = makeActionCreator(T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_START, 'payload');\nexport const createRefAccountLookupComplete = makeActionCreator(T.ACCOUNTS.CREATE_REF_ACCOUNT_LOOKUP_COMPLETE, 'payload');\n\nexport const createRefOwnerLookup = lookup => {\n  return dispatch => {\n    dispatch(createRefOwnerLookupStart(lookup));\n    return api.apiRetrieveUsers(lookup)\n      .then(data => {\n\n        const { customers = [] } = data || {};\n\n        const arr = customers.map(c => {\n          const { id, name, email } = c;\n          const fullName = ([name.firstName, name.lastName]).filter(i => i).join(' ');\n          const label = email ? `${ fullName } (${ email })` : fullName;\n          return {\n            value: id,\n            label\n          };\n        });\n        dispatch(createRefOwnerLookupComplete(arr));\n        return { options: arr };\n      })\n      .catch(err => {\n        dispatch(createRefOwnerLookupComplete([]));\n        return { options: [] };\n      });\n  };\n};\n\nexport const createRefAccountLookup = customerId => {\n  return dispatch => {\n    dispatch(createRefAccountLookupStart(customerId));\n    return api.apiRetrieveAccounts(customerId)\n      .then(({ accounts }) => {\n        const arr = accounts.map(({ accountId, title }) => ({\n          value: accountId,\n          label: title\n        }));\n        dispatch(createRefAccountLookupComplete(arr));\n        return { options: arr };\n      })\n      .catch(err => {\n        dispatch(createRefAccountLookupComplete([]));\n        return { options: [] };\n      });\n  };\n};\n\n\nexport const makeTransferRequested = makeActionCreator(T.TRANSFERS.MAKE_START);\nexport const makeTransferComplete = makeActionCreator(T.TRANSFERS.MAKE_COMPLETE, 'payload');\nexport const makeTransferError = makeActionCreator(T.TRANSFERS.MAKE_ERROR, 'error');\nexport const makeTransferFormUpdate = makeActionCreator(T.TRANSFERS.MAKE_FORM_UPDATE, 'key', 'value');\n\nexport const makeTransfer = (accountId, payload) => {\n  return dispatch => {\n    dispatch(makeTransferRequested());\n    return api.apiMakeTransfer(accountId, payload)\n      .then(data => {\n        const { moneyTransferId } = data;\n        dispatch(makeTransferComplete(data));\n        return moneyTransferId;\n      })\n      .catch(err => {\n        dispatch(makeTransferError(err));\n        return err;\n      });\n  };\n};\n\nexport const getTransfersRequested = makeActionCreator(T.TRANSFERS.LIST_START, 'id');\nexport const getTransfersComplete = makeActionCreator(T.TRANSFERS.LIST_COMPLETE, 'id', 'payload');\nexport const getTransfersError = makeActionCreator(T.TRANSFERS.LIST_ERROR, 'id', 'error');\n\nexport const getTransfers = (accountId) => {\n  return dispatch => {\n    dispatch(getTransfersRequested(accountId));\n    return api.apiRetrieveTransfers(accountId)\n      .then(data => {\n        dispatch(getTransfersComplete(accountId, data['transactionsHistory']));\n        return data;\n      })\n      .catch(err => {\n        dispatch(getTransfersError(accountId, err));\n        return err;\n      });\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/entities.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\n\nimport * as C from \"./constants\";\nimport parseEndpointConfig from \"./parseEndpointConfig\";\nimport { setEndpointKeys } from \"../actions/configure\";\n\nimport {\n  setCurrentSettings,\n  getInitialEndpointKey,\n  setDefaultEndpointKey,\n  setCurrentEndpoint,\n  setCurrentEndpointKey,\n  retrieveData,\n  destroySession\n} from \"./sessionStorage\";\n\nconst defaultSettings = {\n  forceHardRedirect:  false,\n  storage:            \"cookies\",\n  cookieExpiry:       14,\n  cookiePath:         \"/\",\n  initialCredentials: null,\n\n  tokenFormat: {\n    \"access-token\": \"{{ access-token }}\"\n  }\n};\n\n\n// save session configuration\nexport function applyConfig({ dispatch, endpoint={}, settings={}, reset=false } = {}) {\n\n  if (settings.currentLocation && settings.currentLocation.match(/blank=true/)) {\n    return Promise.resolve({blank: true});\n  }\n\n  let currentEndpointKey;\n\n  if (reset) {\n    resetConfig();\n  }\n\n  if (settings.initialCredentials) {\n    currentEndpointKey = settings.initialCredentials.currentEndpointKey;\n  }\n\n  setCurrentSettings({ ...defaultSettings, ...settings });\n\n  const currentHeaders = retrieveData(C.SAVED_CREDS_KEY) || {};\n\n  const accessToken = currentHeaders[\"access-token\"];\n\n  //if (authRedirectHeaders && authRedirectHeaders[\"access-token\"]) {\n  if (!accessToken) {\n    destroySession();\n  }\n\n\n  let { defaultEndpointKey, currentEndpoint } = parseEndpointConfig(\n    endpoint, getInitialEndpointKey()\n  );\n\n  if (!currentEndpointKey) {\n    currentEndpointKey = defaultEndpointKey;\n  }\n\n  // persist default config key with session storage\n  setDefaultEndpointKey(defaultEndpointKey);\n  setCurrentEndpoint(currentEndpoint);\n\n  dispatch(setEndpointKeys(\n    Object.keys(currentEndpoint),\n    currentEndpointKey,\n    defaultEndpointKey));\n\n  setCurrentEndpointKey(currentEndpointKey);\n\n  return Promise.resolve();\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/clientSettings.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport * as C from \"./constants\";\n\n// base endpoint that other endpoints extend from\nconst defaultEndpoint = {\n  apiUrl:                \"/api\",\n  signOutPath:           \"/auth/sign_out\",\n  emailSignInPath:       \"/auth/sign_in\",\n  emailRegistrationPath: \"/auth\",\n  accountUpdatePath:     \"/auth\",\n  accountDeletePath:     \"/auth\",\n  passwordResetPath:     \"/auth/password\",\n  passwordUpdatePath:    \"/auth/password\",\n  tokenValidationPath:   \"/auth/validate_token\",\n\n  authProviderPaths: {\n    github:    \"/auth/github\",\n    facebook:  \"/auth/facebook\",\n    google:    \"/auth/google_oauth2\"\n  }\n};\n\nfunction getFirstObjectKey (obj) {\n  for (var key in obj) {\n    return key;\n  }\n}\n\nexport default function parseEndpointConfig(endpoint, defaultEndpointKey = null) {\n  // normalize so opts is always an array of objects\n  if (endpoint.constructor !== Array) {\n    // single config will always be called 'default' unless set\n    // by previous session\n    defaultEndpointKey = C.INITIAL_CONFIG_KEY;\n\n    // config should look like {default: {...}}\n    var defaultConfig = {};\n    defaultConfig[defaultEndpointKey] = endpoint;\n\n    // endpoint should look like [{default: {...}}]\n    endpoint = [defaultConfig];\n  }\n\n  let currentEndpoint = {};\n\n  // iterate over config items, extend each from defaults\n  for (var i = 0; i < endpoint.length; i++) {\n    var configName = getFirstObjectKey(endpoint[i]);\n\n    // set first as default config\n    if (!defaultEndpointKey) {\n      defaultEndpointKey = configName;\n    }\n\n    // save config to `configs` hash\n    currentEndpoint[configName] = {\n      ...defaultEndpoint,\n      ...endpoint[i][configName]\n    };\n  }\n\n  return { defaultEndpointKey, currentEndpoint };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/parseEndpointConfig.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\n\nexport const visitLocation = makeActionCreator(T.LOCATION.ENTER, 'location');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/navigate.js\n **/","/**\n * Created by andrew on 21/02/16.\n */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { pushState } from 'redux-router';\nimport read from '../utils/readProp';\n\nexport function requireAuthentication(Component) {\n\n  class AuthComponent extends React.Component {\n\n    checkRedirect(props) {\n      if (!props.isAuthenticated) {\n          // redirect to login and add next param so we can redirect again after login\n        const redirectAfterLogin = props.location.pathname;\n        props.dispatch(pushState(null, `/signin?next=${redirectAfterLogin}`));\n      }\n    }\n\n    componentWillMount() {\n      this.checkRedirect(this.props);\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.checkRedirect(nextProps);\n    }\n\n    render() {\n\n      const { isAuthenticated = false } = this.props;\n\n      if (isAuthenticated) {\n        // render the component that requires auth (passed to this wrapper)\n        return (\n          <Component  {...this.props} />\n        )\n      }\n\n      return (<div className=\"panel\">\n        <h2 className=\"text-danger\">No anonymous access!</h2>\n      </div>);\n\n    }\n  }\n\n  const mapStateToProps =\n    (state) => {\n      return ({\n        isAuthenticated: read(state, 'app.auth.user.isSignedIn', false)\n      })\n    };\n\n  return connect(mapStateToProps)(AuthComponent);\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/AuthComponent.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nexport default function read(src, path = '', defaultVal = null) {\n  const [pathItem = null, ...rest] = path.split('.');\n\n  if (pathItem === null ) {\n    return src || defaultVal;\n  } else if (rest.length === 0) {\n    if (!src) { return defaultVal; }\n    return src[pathItem] || defaultVal;\n  }\n\n  if (!src) { return defaultVal; }\n  return read(src[pathItem], rest.join('.'), defaultVal);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/readProp.js\n **/","/**\n * Created by andrew on 17/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Grid, Col, Navbar, NavItem, Nav, NavbarBrand, Footer } from \"react-bootstrap\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport HeaderLinks from '../HeaderLinks';\n\nexport class Container extends React.Component {\n  static propTypes = {\n    children: PropTypes.node\n  };\n\n  render () {\n    return (\n      <div className=\"wrapper\">\n        <Navbar className=\"main-nav\">\n          <LinkContainer to=\"/\">\n            <NavbarBrand>Money Transfer</NavbarBrand>\n          </LinkContainer>\n          <Nav>\n            <LinkContainer to=\"/\" onlyActiveOnIndex={true}>\n              <NavItem eventKey={1}>Home</NavItem>\n            </LinkContainer>\n          </Nav>\n          <div>\n            <HeaderLinks />\n          </div>\n        </Navbar>\n\n        <Grid className=\"content\">\n          {this.props.children}\n        </Grid>\n\n        <Navbar fixedBottom={true} className=\"footer-navigation\">\n          <Col xs={12} sm={6}>&copy; 2016 Eventuate.io</Col>\n          <Col xs={12} sm={6} className=\"text-right\">\n            <a href=\"#\">Terms</a> |&nbsp;\n            <a href=\"#\">Policy</a> |&nbsp;\n            <a href=\"#\">Contact</a> |&nbsp;\n            <a href=\"#\">About</a>\n          </Col>\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nexport default Container;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/partials/Container.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport read from '../utils/readProp';\nimport { signOut } from '../actions/signOut';\n\n\nexport class HeaderLinks extends React.Component {\n\n  signOut(evt, key) {\n    this.props.dispatch(signOut());\n  }\n\n  render() {\n\n    let buttonSet = null;\n    const isSignedIn = read(this.props.auth, 'user.isSignedIn', false);\n    const { location } = this.props.router;\n    const isRegister = location.pathname == '/register';\n    const isLogin = location.pathname == '/signin';\n\n    const condition = isSignedIn ? 2 : (isRegister ? 1 : 0);\n    \n    switch (condition) {\n      case 0:\n        buttonSet = (<LinkContainer to=\"/register\">\n          <BS.NavItem>Register</BS.NavItem>\n        </LinkContainer>);\n        break;\n      case 1:\n        buttonSet = (<LinkContainer to=\"/signin\">\n          <BS.NavItem>Log In</BS.NavItem>\n        </LinkContainer>);\n        break;\n      case 2:\n        buttonSet = (<BS.NavItem onClick={this.signOut.bind(this)} eventKey=\"2\">Sign Out</BS.NavItem>);\n        break;\n    }\n\n    return (\n      <BS.Nav pullRight={true}>\n        { buttonSet }\n      </BS.Nav>\n    );\n  }\n}\n\nexport default connect(({\n  //dispatch,\n  router,\n  app\n  }) => ({\n  //dispatch,\n  router,\n  auth: app.auth\n}))(HeaderLinks);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/HeaderLinks.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport { destroySession } from \"../utils/sessionStorage\";\n\nexport const signOutStart = makeActionCreator(T.AUTH.SIGN_OUT_START);\nexport const signOutComplete = makeActionCreator(T.AUTH.SIGN_OUT_COMPLETE);\n\nexport const signOut = () =>\n  dispatch => {\n    dispatch(signOutStart());\n\n    destroySession();\n\n    dispatch(signOutComplete());\n  };\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/signOut.js\n **/","/**\n * Created by andrew on 17/02/16.\n */\nimport React from \"react\";\nimport { PageHeader, Col, Row, Nav, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport AccountInfo from '../components/AccountInfo';\nimport * as M from './modals';\nimport IndexPanel from \"./../components/partials/IndexPanel\";\nimport * as A from '../actions/entities';\nimport * as AU from '../actions/authenticate';\nimport read from '../utils/readProp';\nimport { Money } from '../components/Money';\n\nconst resetModals = {\n  showAccountModal: false,\n  show3rdPartyAccountModal: false,\n  showDeleteAccountModal: false\n};\n\nclass MyAccounts extends React.Component {\n\n  constructor(...args) {\n    super(...args);\n    this.state = { ...resetModals };\n  }\n\n  componentWillMount() {\n    const {\n      id: customerId\n      } = this.props.auth.user.attributes;\n    this.props.dispatch(A.fetchOwnAccounts(customerId));\n  }\n\n  createAccountModal() {\n    this.setState({\n      showAccountModal: true\n    });\n  }\n\n  createAccountModalConfirmed(payload) {\n\n    const {\n      id: customerId\n      } = this.props.auth.user.attributes;\n\n    this.props.dispatch(A.accountCreate(customerId, payload))\n      .then((accountId) => {\n        this.close();\n        // return new Promise((rs, rj) => {\n          setTimeout(() => {\n            this.props.dispatch(A.fetchOwnAccounts(customerId)); //.then(rs, rj);\n          }, 1500);\n        // });\n      })\n      .catch(err => {\n        // debugger;\n        this.props.dispatch(A.accountCreateError(err));\n      });\n  }\n\n  create3rdPartyAccountModal() {\n    this.setState({\n      show3rdPartyAccountModal: true\n    });\n  }\n\n  create3rdPartyAccountModalConfirmed(payload) {\n    const {\n      id: customerId\n    } = this.props.auth.user.attributes;\n\n    const {\n      dispatch\n    } = this.props;\n\n    dispatch(A.accountRefCreate(customerId, payload))\n      .then(() => {\n        this.close();\n        return new Promise((rs, rj) => {\n          setTimeout(() => {\n            Promise.all([\n              dispatch(AU.authenticate(true)),\n              dispatch(A.fetchOwnAccounts(customerId))\n            ]).then(rs, rj);\n          }, 1500);\n        })\n      })\n      .catch(err => {\n        // debugger;\n        this.props.dispatch(A.accountRefCreateError(err));\n      });\n  }\n\n  remove3rdPartyAccountModal(accountId, evt) {\n    const account = this.props.app.entities[accountId];\n    this.setState({\n      accountToRemove: account,\n      showDeleteAccountModal: true\n    });\n  }\n\n  remove3rdPartyAccountModalConfirmed(account) {\n    const accountId = account.id || account.accountId;\n    const isRef = typeof account.balance == 'undefined';\n\n    const { customerId, dispatch } = this.props;\n    dispatch(A.deleteAccount(customerId, accountId, isRef))\n    .then(() => {\n        this.close();\n        setTimeout(() => {\n          return Promise.all([\n            dispatch(AU.authenticate(true)),\n            dispatch(A.fetchOwnAccounts(customerId))\n          ]);\n        }, 1500);\n    },\n    err => {\n      dispatch(A.errorMessageTimedOut(err && err.message || err));\n      this.close();\n    });\n  }\n\n  close() {\n    this.setState({\n      ...resetModals\n    });\n  }\n\n  render () {\n\n    //const deployTooltip = (<Tooltip>\n    //  Create a new instance of this demo on your own Heroku server.\n    //</Tooltip>);\n    const user = this.props.auth.user.attributes;\n    const {\n      id: customerId,\n      email = '',\n      ssn = '',\n      name = {},\n      phoneNumber = '',\n      address,\n      toAccounts\n      } = user;\n\n    const firstName = name.firstName || '';\n    const lastName = name.lastName || '';\n\n    const {\n      city,\n      state,\n      street1,\n      street2,\n      zipCode\n      } = address;\n\n    const {\n      showAccountModal,\n      show3rdPartyAccountModal,\n      showDeleteAccountModal } = this.state;\n\n    const { accountToRemove = null} = this.state;\n\n    const { error } = this.props;\n    const errorLine = error ? (<BS.Panel bsStyle=\"danger\"><strong>{ JSON.stringify(error.errors || error) }</strong></BS.Panel>) : [];\n\n    const ownAccountsData = this.props.app.accounts.own || [];\n\n    //accountId: \"000001537c2cf075-a250093f26850000\"\n    //balance: 0\n    //description: null\n    //title: \"Sample\"\n\n    const ownAccounts = ownAccountsData.map(({\n      accountId, balance, description = '', title\n      }, idx) => (\n      <tr key={`own_${idx}`}>\n        <td key={0}><AccountInfo accountId={accountId} />{\n          (description) ? [\n            (<br />),\n            <span>{ description }</span>\n          ]: null\n        }</td>\n        <td key={1}><Money amount={balance} /></td>\n        <td key={2}><BS.Button bsStyle={\"link\"} onClick={this.remove3rdPartyAccountModal.bind(this, accountId)}><BS.Glyphicon glyph=\"remove\" /></BS.Button></td>\n      </tr>\n    ));\n\n    const refAccountsData = this.props.app.accounts.other || [];\n    const refAccounts = refAccountsData.map(({\n      title,\n      description = '',\n      id\n      }, idx) => (\n      <tr key={`ref_${idx}`}>\n        <td key={0}><AccountInfo accountId={id} />{\n          (description) ? [\n            (<br />),\n            <span>{ description }</span>\n          ]: null\n        }\n        </td>\n        <td key={1} />\n        <td key={2}><Button pullRight={true} bsStyle={\"link\"} onClick={this.remove3rdPartyAccountModal.bind(this, id)}><BS.Glyphicon glyph=\"remove\" /></Button>\n        </td>\n      </tr>\n    ));\n\n    const accounts = (!!(ownAccounts.length + refAccounts.length)) ? [].concat(ownAccounts, refAccounts) : (<tr>\n      <td colSpan={3}>No account exists: <Button bsStyle={\"link\"} onClick={this.createAccountModal.bind(this)}>create a new one</Button> or <Button bsStyle={\"link\"} onClick={this.create3rdPartyAccountModal.bind(this)}>add a recipient</Button></td>\n    </tr>);\n\n    return (\n      <div>\n        <PageHeader>\n            My Accounts\n          <Nav pullRight={true}>\n            <ButtonGroup>\n              <Button bsStyle={\"link\"} onClick={this.createAccountModal.bind(this)}>Create Account</Button>\n              <Button bsStyle={\"link\"} onClick={this.create3rdPartyAccountModal.bind(this)}>Add 3rd Party Recipients</Button>\n            </ButtonGroup>\n          </Nav>\n        </PageHeader>\n\n        { errorLine }\n\n        <Row>\n          <IndexPanel header=\"Personal Info:\">\n\n            <Row>\n              <Col xs={4}>Customer:</Col>\n              <Col xs={8}><strong>{ `${firstName} ${lastName}` }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Email:</Col>\n              <Col xs={8}><strong>{ email }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Phone:</Col>\n              <Col xs={8}><strong>{ phoneNumber }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>SSN:</Col>\n              <Col xs={8}><strong>{ ssn }</strong></Col>\n            </Row>\n\n\n          </IndexPanel>\n\n        </Row>\n\n        <Table>\n          <thead>\n          <tr>\n            <th>Account Title</th>\n            <th>Balance</th>\n            <th></th>\n          </tr>\n          </thead>\n          <tbody>\n          { accounts }\n          </tbody>\n        </Table>\n\n\n        <M.NewAccountModal show={showAccountModal}\n                                action={this.createAccountModalConfirmed.bind(this)}\n                                account={ this.props.app.accounts.create }\n                                onHide={this.close.bind(this)}\n                                key={0} />\n\n        <M.Add3rdPartyAccountModal show={show3rdPartyAccountModal}\n                                        action={this.create3rdPartyAccountModalConfirmed.bind(this)}\n                                        onHide={this.close.bind(this)}\n                                        key={1} />\n\n        <M.RemoveAccountBookmarkModal show={showDeleteAccountModal}\n                                           account={accountToRemove}\n                                           action={this.remove3rdPartyAccountModalConfirmed.bind(this)}\n                                           onHide={this.close.bind(this)}\n                                           key={2} />\n\n      </div>\n    );\n  }\n}\n\nexport default connect(({ app }) => {\n  return ({\n    auth: app.auth,\n    app: app.data,\n    customerId: read(app, 'auth.user.isSignedIn', false) ? read(app, 'auth.user.attributes.id', null): null,\n    error: app.ui.error\n  })\n})(MyAccounts);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/MyAccounts.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport Spinner from \"react-loader\";\nimport * as BS  from \"react-bootstrap\";\nimport * as A from '../actions/entities';\nimport read from '../utils/readProp';\nimport { Route, IndexRoute, Link, IndexLink } from \"react-router\";\n\nexport class AccountInfo extends React.Component {\n  componentWillMount() {\n    this.ensureData(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.ensureData(nextProps);\n  }\n\n  ensureData({ dispatch, entities, accountId }) {\n    if (entities[accountId]) {\n      return;\n    }\n    dispatch(A.fetchAccount(accountId));\n  }\n\n  render() {\n    const { entities, accountId, customerId } = this.props;\n\n    const account = entities[accountId];\n\n    if (!account || !accountId) {\n      return (<div title={ `${accountId}` }>{ accountId } <Spinner loaded={false} /></div>);\n      // {/*return (<Link to={ `/account/${accountId}` }>{ accountId } <Spinner loaded={false} /></Link>)*/}\n    }\n\n    const { title, owner } = account;\n\n    if ((typeof owner !== 'undefined') && (customerId !== owner)) {\n      return (<BS.Button bsStyle=\"link\" disabled title={ `${accountId}` } style={{ padding: '0 0' }}>{ title }</BS.Button>);\n    } else {\n      return (<Link to={ `/account/${accountId}` }>{ title }</Link>);\n    }\n  }\n}\n\nexport default connect(({ app }) => ({\n  entities: app.data.entities,\n  customerId: read(app, 'auth.user.isSignedIn', false) ? read(app, 'auth.user.attributes.id', null): null,\n}))(AccountInfo);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/AccountInfo.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nexport { default as Add3rdPartyAccountModal } from './Add3rdPartyAccountModal';\nexport { default as NewAccountModal } from './NewAccountModal';\nexport { default as RemoveAccountBookmarkModal } from './RemoveAccountModal';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/index.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nimport React from \"react\";\n// import { PageHeader, OverlayTrigger, Modal, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport ButtonLoader from \"../../controls/bootstrap/ButtonLoader\";\nimport Input from \"../../controls/bootstrap/Input\";\nimport AuxErrorLabel from \"../../controls/bootstrap/AuxErrorLabel\";\nimport read from '../../utils/readProp';\n\nimport { Link, IndexLink} from \"react-router\";\nimport { connect } from \"react-redux\";\nimport Select from \"react-select\";\n\nimport * as A from '../../actions/entities';\n\nconst formValidation = (payload) => ['owner', 'account', 'title', 'description'].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'owner':\n    case 'account':\n    case 'title':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  switch (prop) {\n    case 'description':\n      if (value.length > 400) {\n        result.push('need to less than 400 symbols long');\n      }\n  }\n\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\n\nexport class Add3rdPartyAccountModal extends React.Component {\n\n  handleInput(key, value) {\n    this.props.dispatch(A.accountRefCreateFormUpdate(key, value));\n    switch(key) {\n      case 'owner':\n        if (value) {\n          this.props.dispatch(A.createRefAccountLookup(value));\n        } else {\n          this.props.dispatch(A.createRefAccountLookupComplete([]));\n        }\n    }\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n\n    const payload = { ...this.props.data.form };\n\n    const validationErrors = formValidation(payload);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(A.accountRefCreateError(validationErrors));\n      return;\n    }\n\n    const { action } = this.props;\n\n    if (action) {\n      action(payload);\n    }\n  }\n\n  onHide() {\n    this.props.dispatch(A.accountRefCreateComplete({}));\n    if (this.props.onHide) {\n      this.props.onHide();\n    }\n  }\n\n  getOwnersOptions(input) {\n    if (!input) {\n      return Promise.resolve({ options: [] });\n    }\n    return this.props.dispatch(A.createRefOwnerLookup(input));\n  }\n\n  render() {\n    const disabled = read(this.props.data, 'loading', false);\n\n    const ownersLoading = read(this.props.data, 'ownersLookup.loading', false);\n\n    const formErrors = read(this.props.data, 'errors.errors', '');\n\n    return (\n      <BS.Modal show={this.props.show} onHide={this.onHide.bind(this)} key={1}>\n        <BS.Modal.Header closeButton>\n          <BS.Modal.Title>Add 3rd Party Account</BS.Modal.Title>\n        </BS.Modal.Header>\n        <BS.Modal.Body>\n          <form>\n            <div className=\"form-group\" style={{\n            display: formErrors ? 'block' : 'none'\n            }}>\n              <AuxErrorLabel\n                label=\"Form:\"\n                errors={formErrors.length ? [formErrors] : [] }\n              />\n            </div>\n\n            <label>Owner:</label>\n            <div className=\"form-group\">\n              <Select\n                name=\"owner\"\n                onBlurResetsInput={false}\n                asyncOptions={this.getOwnersOptions.bind(this)}\n                matchProp=\"label\"\n                onChange={this.handleInput.bind(this, 'owner')}\n                value={read(this.props.data, 'form.owner', '')}\n                disabled={disabled}\n              />\n              <AuxErrorLabel\n                label=\"Owner:\"\n                errors={read(this.props.data, 'errors.owner', [])}\n              />\n            </div>\n\n            <label>Account:</label>\n            <div className=\"form-group\">\n              <Select\n                name=\"account\"\n                value={read(this.props.data, 'form.account', '')}\n                disabled={ownersLoading || disabled}\n                clearable={false}\n                searchable={false}\n                options={read(this.props.data, 'accountsLookup.options', [])}\n                onChange={this.handleInput.bind(this, 'account')} />\n              <AuxErrorLabel\n                label=\"Account:\"\n                errors={read(this.props.data, 'errors.account', [])}\n              />\n            </div>\n\n            <Input type=\"text\"\n                   className=\"account-create-description\"\n                   label=\"Title:\"\n                   placeholder=\"Title\"\n                   name=\"title\"\n                   disabled={disabled}\n                   value={read(this.props.data, 'form.title', '')}\n                   errors={read(this.props.data, 'errors.title', [])}\n                   onChange={this.handleInput.bind(this, 'title')} />\n\n            <Input type=\"textarea\"\n                   className=\"account-create-description\"\n                   label=\"Description:\"\n                   placeholder=\"Description\"\n                   name=\"description\"\n                   disabled={disabled}\n                   value={read(this.props.data, 'form.description', '')}\n                   errors={read(this.props.data, 'errors.description', [])}\n                   onChange={this.handleInput.bind(this, 'description')} />\n          </form>\n        </BS.Modal.Body>\n        <BS.Modal.Footer>\n          <BS.Button onClick={this.onHide.bind(this)}>Cancel</BS.Button>\n          <ButtonLoader loading={read(this.props.data, 'loading', false)}\n                        type=\"submit\"\n                        bsStyle=\"primary\"\n                        icon={<BS.Glyphicon glyph=\"plus\" />}\n                        disabled={disabled}\n                        onClick={this.handleSubmit.bind(this)}>\n            Add\n          </ButtonLoader>\n        </BS.Modal.Footer>\n      </BS.Modal>\n    );\n  }\n}\n\nconst mapStateToProps = ({ app }) => ({\n  ui: app.ui.bookmarkAccount,\n  data: app.data.bookmarkAccount\n});\n\nexport default connect(mapStateToProps)(Add3rdPartyAccountModal);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/Add3rdPartyAccountModal.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Button, Glyphicon } from \"react-bootstrap\";\nimport Spinner from \"react-loader\";\n\nclass ButtonLoader extends React.Component {\n  static propTypes = {\n    icon: PropTypes.node,\n    loading: PropTypes.bool,\n    spinConfig: PropTypes.object,\n    spinColorDark: PropTypes.string,\n    spinColorLight: PropTypes.string,\n    children: PropTypes.node,\n    onClick: PropTypes.func.isRequired,\n    style: PropTypes.object\n  };\n\n  static defaultProps = {\n    icon: <Glyphicon glyph=\"heart\" />,\n    loading: false,\n    spinConfig: {\n      lines: 10,\n      length: 4,\n      width: 2,\n      radius: 3\n    },\n    spinColorDark: \"#444\",\n    spinColorLight: \"#fff\",\n    children: <span>Submit</span>,\n    style: {}\n  };\n\n  renderIcon () {\n    let icon;\n\n    if (this.props.loading) {\n      let spinColor = (!this.props.bsStyle || this.props.bsStyle === \"default\")\n        ? this.props.spinColorDark\n        : this.props.spinColorLight;\n\n      icon = <Spinner {...this.props.spinConfig} color={spinColor} loaded={false} />;\n    } else {\n      icon = this.props.icon;\n    }\n\n    return (\n      <div style={{\n        position: \"relative\",\n        display: \"inline-block\",\n        marginRight: \"6px\",\n        width: \"10px\",\n        height: \"10px\",\n        top: \"1px\"\n      }}>\n        {icon}\n      </div>\n    );\n  }\n\n  render () {\n    return (\n      <Button\n        onClick={this.props.onClick}\n        disabled={this.props.disabled || this.props.loading}\n        bsStyle={this.props.bsStyle}\n        className={this.props.className}\n        type={this.props.type}\n        style={this.props.style}\n        bsSize={this.props.bsSize}>\n        {this.renderIcon()} {this.props.children}\n      </Button>\n    );\n  }\n}\n\nexport default ButtonLoader;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/ButtonLoader.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Input, Glyphicon } from \"react-bootstrap\";\n\nclass AuthInput extends React.Component {\n  static propTypes = {\n    label: PropTypes.string,\n    value: PropTypes.string,\n    errors: PropTypes.array\n  };\n\n  static defaultProps = {\n    label: '',\n    value: null,\n    errors: []\n  };\n\n  handleInput (ev) {\n    this.props.onChange(ev.target.value);\n  }\n\n  renderErrorList () {\n\n    if (this.props.errors.length) {\n      return (\n        <div className=\"auth-error-message has-error\">\n          {this.props.errors.map((err, i) => {\n            return (\n              <p className=\"control-label inline-error-item\"\n                 style={{paddingLeft: \"20px\", position: \"relative\", marginBottom: \"28px\"}}\n                 key={i}>\n\n                <Glyphicon glyph=\"exclamation-sign\"\n                           style={{\n                             position: \"absolute\",\n                             left: 0,\n                             top: 2\n                           }}\n                /> {this.props.label} {err}\n              </p>\n            );\n          })}\n        </div>\n      );\n    } else {\n      return <span />;\n    }\n  }\n\n  render () {\n    return (\n      <div>\n        <Input {...this.props}\n          bsStyle={(this.props.errors.length) ? \"error\" : null}\n          onChange={this.handleInput.bind(this)} />\n        {this.renderErrorList()}\n      </div>\n    );\n  }\n}\n\nexport default AuthInput;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/Input.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Glyphicon } from \"react-bootstrap\";\n\nclass AuxErrorLabel extends React.Component {\n\n  static propTypes = {\n    label: PropTypes.string,\n    errors: PropTypes.array\n  };\n\n  static defaultProps = {\n    label: '',\n    errors: []\n  };\n  \n  render () {\n    const { errors } = this.props;\n\n    if (errors.length) {\n      return (\n        <div className='has-error'>\n          { errors.map((err, i) => {\n            return (\n              <p className=\"control-label inline-error-item\"\n                 style={{paddingLeft: \"20px\", position: \"relative\", marginBottom: \"28px\"}}\n                 key={i}>\n\n                <Glyphicon glyph=\"exclamation-sign\"\n                           style={{\n                             position: \"absolute\",\n                             left: 0,\n                             top: 2\n                           }}\n                /> {this.props.label} {err}\n              </p>\n            );\n          })}\n        </div>\n      );\n    } else {\n      return <span />;\n    }\n  }\n}\n\nexport default AuxErrorLabel;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/AuxErrorLabel.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport * as BS from \"react-bootstrap\";\nimport Input from \"../../controls/bootstrap/Input\";\nimport ButtonLoader from \"../../controls/bootstrap/ButtonLoader\";\n//import { PageHeader, OverlayTrigger, Modal, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\n\nimport { Link, IndexLink} from \"react-router\";\nimport read from '../../utils/readProp';\n\nimport { accountCreateFormUpdate, accountCreateError } from '../../actions/entities';\n\nconst formValidation = (payload) => ['title', 'balance', 'description'].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'title':\n    case 'balance':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  switch (prop) {\n    case 'balance':\n      if (!/\\d+/.test(value)) {\n        result.push('need to be a number');\n      }\n  }\n\n  switch (prop) {\n    case 'description':\n      if (value.length > 400) {\n        result.push('need to less than 400 symbols long');\n      }\n\n  }\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\nexport class NewAccountModal extends React.Component {\n\n  static propTypes = {\n    action: PropTypes.func,\n    account: PropTypes.object.isRequired\n  };\n  \n  handleSubmit(event) {\n    event.preventDefault();\n\n    const payload = { ...this.props.account.form };\n\n    const validationErrors = formValidation(payload);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(accountCreateError(validationErrors));\n      return;\n    }\n\n    const { action } = this.props;\n\n    if (action) {\n      action(payload);\n    }\n  }\n\n  handleInput(key, val) {\n      this.props.dispatch(accountCreateFormUpdate(key, val));\n  }\n\n  render() {\n\n    const disabled = (\n      this.props.account.loading\n    );\n\n    const actionLabel = 'Create';\n\n    return (<BS.Modal show={this.props.show} onHide={this.props.onHide} key={0}>\n      <BS.Modal.Header closeButton>\n        <BS.Modal.Title>New Account</BS.Modal.Title>\n      </BS.Modal.Header>\n      <BS.Modal.Body>\n        <form className='account-create-form clearfix'\n              onSubmit={this.handleSubmit.bind(this)}>\n\n          <Input type=\"text\"\n                 className=\"account-create-title\"\n                 label=\"Title\"\n                 placeholder=\"Title\"\n                 name=\"title\"\n                 disabled={disabled}\n                 value={read(this.props.account, 'form.title', '')}\n                 errors={read(this.props.account, 'errors.title', [])}\n                 onChange={this.handleInput.bind(this, \"title\")}\n          />\n\n          <Input type=\"text\"\n                 className=\"account-create-balance\"\n                 label=\"Balance\"\n                 placeholder=\"Balance\"\n                 name=\"balance\"\n                 addonBefore={\n                 (<BS.Glyphicon glyph=\"usd\" />)\n                 }\n                 addonAfter=\".00\"\n                 disabled={disabled}\n                 value={read(this.props.account, 'form.balance', '')}\n                 errors={read(this.props.account, 'errors.balance', [])}\n                 onChange={this.handleInput.bind(this, 'balance')}\n          />\n\n          <Input type=\"textarea\"\n                 className=\"account-create-description\"\n                 label=\"Description\"\n                 placeholder=\"Description\"\n                 name=\"description\"\n                 disabled={disabled}\n                 value={read(this.props.account, 'form.description', '') || ''}\n                 errors={read(this.props.account, 'errors.description', [])}\n                 onChange={this.handleInput.bind(this, 'description')}\n           />\n\n\n        </form>\n\n      </BS.Modal.Body>\n      <BS.Modal.Footer>\n        <BS.Button onClick={this.props.onHide}>Cancel</BS.Button>\n        <ButtonLoader loading={read(this.props.account, 'loading', false)}\n                      type=\"submit\"\n                      bsStyle=\"primary\"\n                      icon={<BS.Glyphicon glyph=\"plus\" />}\n                      disabled={disabled}\n                      onClick={this.handleSubmit.bind(this)}\n          >\n          {actionLabel}\n        </ButtonLoader>\n      </BS.Modal.Footer>\n    </BS.Modal>);\n  }\n}\n\nexport default connect()(NewAccountModal);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/NewAccountModal.js\n **/","/**\n * Created by andrew on 20/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport * as BS from 'react-bootstrap';\nimport { PageHeader, OverlayTrigger, Modal, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport { moneyText } from '../../components/Money';\n\nexport class RemoveAccountBookmarkModal extends React.Component {\n\n  static propTypes = {\n    action: PropTypes.func,\n    account: PropTypes.object\n  };\n\n  handleAction(evt) {\n    evt.preventDefault();\n    const { action, account } = this.props;\n    if (action) {\n      action(account);\n    }\n  }\n\n  render() {\n    const { account } = this.props;\n\n    const { title: titleRaw,\n      description: descriptionRaw,\n      balance: balanceRaw,\n      id,\n      accountId } = account || {};\n\n    const entityId = id || accountId;\n\n    const title = titleRaw || '';\n    const balance = moneyText(balanceRaw);\n    const description = descriptionRaw || '';\n\n    return (<Modal show={this.props.show} onHide={this.props.onHide} key={0}>\n      <Modal.Header closeButton>\n        <Modal.Title>Remove Account Bookmark</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n\n        <form className=\"form-horizontal\">\n          <BS.FormControls.Static label=\"Title\" labelClassName=\"col-xs-2\" wrapperClassName=\"col-xs-10\">{ title }</BS.FormControls.Static>\n          <BS.FormControls.Static label=\"Balance\" labelClassName=\"col-xs-2\" wrapperClassName=\"col-xs-10\">{ balance }</BS.FormControls.Static>\n          <BS.FormControls.Static label=\"Description\" labelClassName=\"col-xs-2\" wrapperClassName=\"col-xs-10\">{ description }</BS.FormControls.Static>\n        </form>\n\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={this.props.onHide}>Cancel</Button>\n        <Button bsStyle=\"danger\" eventKey={ entityId } onClick={this.handleAction.bind(this)}>Remove</Button>\n      </Modal.Footer>\n    </Modal>);\n  }\n}\n\nexport default RemoveAccountBookmarkModal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/modals/RemoveAccountModal.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\nimport React from 'react';\n\nexport const moneyText = (amount) => {\n\n  if (Number.isNaN(Number(amount))) {\n    return '';\n  }\n  const absNum = Math.abs(Number(amount) / 100);\n  if (absNum < 0) {\n    return `$(${absNum.toFixed(2)})`;\n  }\n  return `$${absNum.toFixed(2)}`;\n};\n\nexport const Money = ({ amount }) => {\n\n  if (Number.isNaN(Number(amount))) {\n    return (<span />);\n  }\n  const absNum = Math.abs(Number(amount) / 100);\n  if (absNum < 0) {\n    return (<span className=\"text-danger\">($${ absNum.toFixed(2) })</span>)\n  }\n  return (<span>${ absNum.toFixed(2) }</span>);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/Money.js\n **/","/**\n * Created by andrew on 17/02/16.\n */\nimport React, { PropTypes } from \"react\";\nimport { Panel, Col } from \"react-bootstrap\";\n\nexport class IndexPanel extends React.Component {\n  static propTypes = {\n    bsStyle: PropTypes.string,\n    header: PropTypes.string,\n    children: PropTypes.node\n  };\n\n  static defaultProps = {\n    bsStyle: \"info\",\n    children: <span />\n  };\n\n  render () {\n    return (\n      <Col sm={6}>\n        <Panel {...this.props} />\n      </Col>\n    );\n  }\n}\n\nexport default IndexPanel;\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/partials/IndexPanel.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { PageHeader, OverlayTrigger, Tooltip, Grid, Col, Row, Nav, NavItem, ButtonGroup, Button, Table } from \"react-bootstrap\";\nimport * as BS  from \"react-bootstrap\";\n// import Spinner from \"react-loader\";\nimport Select from \"react-select\";\nimport Input from \"../controls/bootstrap/Input\";\nimport { Money, moneyText } from '../components/Money';\nimport { TransfersTable } from '../components/TransfersTable';\n\nimport { Link, IndexLink } from \"react-router\";\n\nimport IndexPanel from \"./../components/partials/IndexPanel\";\nimport * as Modals from './modals';\nimport * as A from '../actions/entities';\nimport read from '../utils/readProp';\nimport { blocked } from '../utils/blockedExecution';\n\nconst resetModals = {\n  showAccountModal: false,\n  unsaved: false\n};\n\nexport class Account extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { ...resetModals };\n\n    const ensureTransfers = this.ensureTransfers.bind(this);\n    const ensureAccounts = this.ensureAccounts.bind(this);\n\n    this.ensureTransfers = blocked(ensureTransfers, true);\n    this.ensureAccounts = blocked(ensureAccounts, true);\n  }\n\n  ensureTransfers(props, cb) {\n    const forceFetch = !cb;\n    if (forceFetch) {\n      cb = props;\n      props = this.props;\n    }\n\n    const { dispatch, params, transfers } = props;\n\n    if (!forceFetch && !params) {\n      return cb();\n    }\n\n    const { accountId } = params;\n    if (!forceFetch && (!accountId || transfers[accountId])) {\n      return cb();\n    }\n\n    dispatch(A.getTransfers(accountId)).then(cb, cb);\n  }\n\n  ensureAccounts(props, cb) {\n    const forceFetch = !cb;\n    if (forceFetch) {\n      cb = props;\n      props = this.props;\n    }\n\n    const { dispatch, params, data } = props;\n\n    if (!forceFetch && (!params || !data || !data.accounts)) {\n      return cb();\n    }\n\n    const { accountId } = params;\n\n    if (!forceFetch && data.accounts.own && data.accounts.own.length && data.entities[accountId]) {\n      return cb();\n    }\n\n    if (!forceFetch && (!props.auth || !props.auth.user || !props.auth.user.attributes)) {\n      return cb();\n    }\n\n    const {\n      id: customerId\n    } = props.auth.user.attributes;\n\n    Promise.all([\n      dispatch(A.fetchOwnAccounts(customerId)),\n      dispatch(A.fetchAccount(accountId)),\n    ]).then(cb, cb);\n  }\n\n  // shouldComponentUpdate(nextProps) {\n  //   return (nextProps.params.accountId !== this.props.params.accountId) || (nextProps.app !== this.props.app);\n  // }\n\n  componentWillMount() {\n    this.ensureAccounts(this.props);\n    this.ensureTransfers(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.ensureAccounts(nextProps);\n    this.ensureTransfers(nextProps);\n  }\n\n\n  close() {\n    this.setState({\n      ...resetModals\n    });\n  }\n\n  handleInput(key, value) {\n    this.props.dispatch(A.makeTransferFormUpdate(key, value));\n  }\n\n  initiateTransfer(){\n    const { dispatch, params, transfer } = this.props;\n    const { accountId } = params;\n    dispatch(A.makeTransfer(accountId, transfer.form ))\n      .then(() => new Promise((rs) => {\n          setTimeout(() => {\n            this.ensureAccounts();\n            this.ensureTransfers();\n            rs();\n          }, 1500);\n        })\n      );\n  }\n\n  render () {\n\n    const { showAccountModal } = this.state;\n    const { params } = this.props;\n    const { loading, errors } = this.props.ui;\n    const { entities, accounts } = this.props.data;\n    const { accountId } = params;\n\n    const  account = entities[accountId];\n\n    const spinnerResult = (<h2 key=\"0\">Loading..</h2>);\n\n    if (loading) {\n      return spinnerResult;\n    }\n\n    if (!account) {\n      if (errors.length) {\n        return (<div>\n          <h2>Error loading specified account</h2>\n          <div>Return <Link to=\"/\">Home</Link> to pick another</div>\n        </div>);\n      } else {\n        return spinnerResult;\n      }\n    }\n\n    const transferTo = [].concat(accounts.own.reduce((memo, item, idx) => {\n      const { balance, title, accountId: itemAccountId } = item;\n\n      if (itemAccountId != accountId) {\n        memo.push({\n          value: itemAccountId ,\n          label: `${title}: ${ moneyText(balance) }`\n        });\n      }\n      return memo;\n    }, []),\n      accounts.other.reduce((memo, item, idx) => {\n      if (!((item.id == accountId) || (item.accountId == accountId))) {\n        memo.push({\n          value: item.accountId || item.id,\n          label: `${item.title}${ item.description ? ': ' + item.description.substr(0, 10): '' }`\n        });\n      }\n      return memo;\n    }, []));\n\n    const { title: titleRaw, description: descriptionRaw, balance } = account;\n\n    const title = titleRaw || '';\n    const description = descriptionRaw || '';\n\n    const transferDisabled = this.props.transfer.loading;\n\n    return (\n      <div key={accountId}>\n        <PageHeader>\n          Account\n          <Nav pullRight={true}>\n            <ButtonGroup>\n              <Button bsStyle=\"link\" onClick={ null } disabled={true}>Edit</Button>\n            </ButtonGroup>\n          </Nav>\n        </PageHeader>\n\n        <Row>\n          <IndexPanel header=\"Account Info:\">\n\n            <Row>\n              <Col xs={4}>Title:</Col>\n              <Col xs={8}><strong>{ title }</strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Balance:</Col>\n              <Col xs={8}><strong><Money amount={balance} /></strong></Col>\n            </Row>\n\n            <Row>\n              <Col xs={4}>Description:</Col>\n              <Col xs={8}><strong>{ description }</strong></Col>\n            </Row>\n\n          </IndexPanel>\n\n        </Row>\n        <Row>\n          <Col xs={12}>\n            <h3>You can transfer money to accounts:</h3>\n          </Col>\n        </Row>\n        <Row>\n          <Col sm={4}>\n            <label>Transfer To:</label>\n            <Select\n              value={read(this.props.transfer, 'form.account', '')}\n              clearable={true}\n              options={transferTo}\n              disabled={transferDisabled}\n              onChange={this.handleInput.bind(this, 'account')}\n            />\n          </Col>\n          <Col sm={3}>\n            <Input type=\"text\"\n                   className=\"\"\n                   label=\"Amount:\"\n                   placeholder=\"Amount\"\n                   name=\"amount\"\n                   addonBefore={\n                 (<BS.Glyphicon glyph=\"usd\" />)\n                 }\n                   addonAfter=\".00\"\n                   disabled={transferDisabled}\n                   value={read(this.props.transfer, 'form.amount', '')}\n                   errors={read(this.props.transfer, 'errors.amount', []) || []}\n                   onChange={this.handleInput.bind(this, 'amount')}\n            />\n            </Col>\n          <Col sm={3}>\n            <Input type=\"textarea\"\n                   className=\"\"\n                   label=\"Description:\"\n                   placeholder=\"Description\"\n                   name=\"description\"\n                   disabled={transferDisabled}\n                   value={read(this.props.transfer, 'form.description', '') || ''}\n                   errors={read(this.props.transfer, 'errors.description', []) || []}\n                   onChange={this.handleInput.bind(this, 'description')}\n            />\n          </Col>\n          <Col sm={2}>\n            <br/>\n            <Button bsStyle=\"primary\"\n                    disabled={transferDisabled}\n                    onClick={!transferDisabled && this.initiateTransfer.bind(this)}>Transfer</Button>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xs={12}>\n            <h3>Transfer History:</h3>\n          </Col>\n        </Row>\n\n        <TransfersTable forAccount={accountId} transfers={ this.props.transfers[accountId] } />\n\n        <Modals.NewAccountModal show={showAccountModal}\n                                action={ null }\n                                account={{ loading: true }}\n                                onHide={this.close.bind(this)}\n                                key={0} />\n\n\n      </div>\n\n    );\n  }\n}\n\nexport default connect(({\n  app,\n  router\n  }) => ({\n    app,\n  auth: app.auth,\n  data: app.data,\n  transfers: app.data.transfers,\n  ui: app.ui.account,\n  transfer: app.ui.transfersMake,\n  router\n}))(Account);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/Account.js\n **/","/**\n * Created by andrew on 3/22/16.\n */\nimport React from \"react\";\nimport Spinner from \"react-loader\";\nimport * as BS  from \"react-bootstrap\";\nimport TimeAgo from 'react-timeago';\n\nimport { Money } from './Money';\nimport AccountInfo from './AccountInfo';\n\nexport class TransfersTable extends React.Component {\n\n  preprocessItems(input, currentAccountId) {\n    return input\n      .sort((a, b) => ((a.date - b.date)))\n      .filter(({ entryType, toAccountId, fromAccountId}) => ((entryType !=='transaction') || (fromAccountId === currentAccountId) || (toAccountId === currentAccountId)))\n      .reduce(({\n        items, balance\n      }, v) => {\n        if (v.entryType == 'account') {\n          balance = v.initialBalance;\n        } else if (v.entryType == 'transaction' && (v.status !== 'FAILED_DUE_TO_INSUFFICIENT_FUNDS')) {\n          const isOriginating = v.fromAccountId == currentAccountId;\n          balance += (isOriginating ? -1 : 1) * v.amount;\n        }\n        v.balance = balance;\n        items.push(v);\n        return { items, balance };\n      }, {\n        items: [],\n        balance: 0\n      }).items\n      .sort((a, b) => (-(a.date - b.date)))\n  }\n\n  render() {\n    const { transfers, forAccount } = this.props;\n    const { loading, data, errors } = transfers || {};\n    \n    if (!transfers || loading) {\n      return (<h2><Spinner loaded={false} /> Loading..</h2>);\n    }\n\n    if (Object.keys(errors).length) {\n      return (<div className=\"text-danger\">Errors..</div>);\n    }\n\n    const currentAccountId = forAccount;\n\n    const transfersMarkup = data.length ?\n      this.preprocessItems(data, currentAccountId)\n        .map(({\n          entryType,\n          amount,\n          fromAccountId,\n          toAccountId,\n          transactionId,\n          description = '',\n          date = null,\n          status = '',\n          balance,\n          initialBalance = null\n        }) => {\n\n          const transferTimestamp = new Date(date);\n          const timeAgoTitle = transferTimestamp.toLocaleDateString() + ' ' + transferTimestamp.toLocaleTimeString();\n\n          if (entryType == 'account') {\n            return (<tr>\n              <td><TimeAgo date={date} title={ timeAgoTitle } /></td>\n              <td colSpan=\"3\">Account created</td>\n              <td><Money amount={ initialBalance } /></td>\n              <td>{ description }</td>\n              <td>{ status || '' }</td>\n            </tr>);\n          }\n\n          const isOriginating = fromAccountId == currentAccountId;\n          const directionMarkup = isOriginating ? 'Debit' : 'Credit';\n          const counterAccountMarkup = isOriginating ?\n            <AccountInfo accountId={ toAccountId } /> :\n            <AccountInfo accountId={ fromAccountId } />;\n\n          return (<tr key={ transactionId }>\n            <td><TimeAgo date={date} title={ timeAgoTitle } /></td>\n            <td>{ directionMarkup }</td>\n            <td>{ counterAccountMarkup }</td>\n            <td><Money amount={ amount } /></td>\n            <td><Money amount={ balance } /></td>\n            <td>{ description || '' }</td>\n            <td>{ status || '' }</td>\n          </tr>);\n        }) : (<tr>\n        <td colSpan={6}>No transfers for this account just yet.</td>\n      </tr>);\n\n    return (\n      <BS.Table striped bordered condensed hover>\n        <thead>\n        <tr>\n          <th>Date</th>\n          <th>Type</th>\n          <th>Other Account</th>\n          <th>Amount</th>\n          <th>Balance</th>\n          <th>Description</th>\n          <th>Status</th>\n        </tr>\n        </thead>\n        <tbody>\n        { transfersMarkup }\n        </tbody>\n      </BS.Table>\n    );\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/TransfersTable.js\n **/","/**\n * Created by andrew on 8/17/16.\n */\n\nexport const blocked = (fn, useCb) => {\n  let isBlocked = false;\n  return (...args) => {\n    if (isBlocked) {\n      return;\n    }\n    //noinspection JSUnusedAssignment\n    isBlocked = true;\n    const cb = () => {\n      isBlocked = false;\n    };\n    const result = useCb ? fn(...(args.concat([cb]))) : fn(...args);\n    if (!useCb) {\n      cb();\n    }\n    return result;\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/blockedExecution.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\nimport { PageHeader } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport * as BS from \"react-bootstrap\";\nimport { pushState } from \"redux-router\";\nimport { EmailSignInForm } from \"../controls/bootstrap/EmailSignInForm\";\nimport read from '../utils/readProp';\n\nexport class SignIn extends React.Component {\n\n  checkRedirect(props) {\n\n    const isSignedIn = read(props.auth, 'user.isSignedIn');\n    if (isSignedIn) {\n\n      const nextLocation = read(props.location, 'query.next');\n      props.dispatch(pushState(null, nextLocation));\n\n      //// redirect to login and add next param so we can redirect again after login\n      //const redirectAfterLogin = this.props.location.pathname;\n      //this.props.dispatch(pushState(null, `/signin?next=${redirectAfterLogin}`));\n    }\n  }\n  componentWillMount() {\n    this.checkRedirect(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.checkRedirect(nextProps);\n\n  }\n\n  render () {\n\n    return (\n      <BS.Well>\n        <PageHeader>Sign In</PageHeader>\n        <EmailSignInForm {...this.props} />\n      </BS.Well>\n    );\n  }\n}\nexport default connect(({\n  //dispatch,\n    routes,\n    app\n  }) => ({\n  //dispatch,\n    routes,\n    auth: app.auth\n}))(SignIn);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/SignIn.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, {PropTypes} from \"react\";\nimport * as BS from \"react-bootstrap\";\nimport read from '../../utils/readProp';\nimport Input from \"./Input\";\nimport ButtonLoader from \"./ButtonLoader\";\nimport AuxErrorLabel from './AuxErrorLabel';\nimport * as AS from \"../../actions/signIn\";\n\nconst formValidation = (payload) => [\n  'email',\n  'password'\n].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'email':\n    case 'password':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\nexport class EmailSignInForm extends React.Component {\n\n  handleInput (key, val) {\n    this.props.dispatch(AS.emailSignInFormUpdate(key, val));\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n\n    const formData = read(this.props.auth, 'signIn.form');\n\n    const validationErrors = formValidation(formData);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(AS.emailSignInError(validationErrors));\n      return;\n    }\n\n    this.props.dispatch(AS.emailSignIn(formData));\n  }\n\n  render () {\n\n    try {\n    const disabled = (\n      this.props.auth.user.isSignedIn ||\n      this.props.auth.signIn.loading\n    );\n\n      //const error = read(this.props.auth, 'signIn.errors.email', null);\n      const formErrors = read(this.props.auth, 'signIn.errors.errors', '');\n\n      return (\n      <form className='redux-auth email-sign-in-form clearfix'\n            onSubmit={this.handleSubmit.bind(this)}>\n\n        <div className=\"form-group\" style={{\n            display: formErrors ? 'block' : 'none'\n            }}>\n          <AuxErrorLabel\n            label=\"Form:\"\n            errors={ formErrors.length ? [ formErrors ] : [] }\n          />\n        </div>\n\n        <Input type=\"text\"\n               className=\"email-sign-in-email\"\n               label=\"Email\"\n               placeholder=\"Email\"\n               name=\"email\"\n               disabled={disabled}\n               value={read(this.props.auth, 'signIn.form.email', '')}\n               errors={read(this.props.auth, 'signIn.errors.email', [])}\n               onChange={this.handleInput.bind(this, \"email\")}\n          {...this.props.inputProps.email} />\n\n        <Input type=\"password\"\n               className=\"password-sign-in-email\"\n               label=\"Password\"\n               placeholder=\"Password\"\n               name=\"password\"\n               disabled={disabled}\n               value={read(this.props.auth, 'signIn.form.password', '')}\n               errors={read(this.props.auth, 'signIn.errors.password', [])}\n               onChange={this.handleInput.bind(this, \"password\")}\n          {...this.props.inputProps.password} />\n\n        <ButtonLoader loading={read(this.props.auth, 'signIn.loading', false)}\n                      type=\"submit\"\n                      icon={<BS.Glyphicon glyph=\"log-in\" />}\n                      className='email-sign-in-submit pull-right'\n                      disabled={disabled}\n                      onClick={this.handleSubmit.bind(this)}\n          {...this.props.inputProps.submit}>\n          Sign In\n        </ButtonLoader>\n      </form>\n    );\n    } catch (ex){\n      console.error('Render exception: ', ex);\n      return [' ERROR '];\n    }\n  }\n}\n\nEmailSignInForm.propTypes = {\n  endpoint: PropTypes.string,\n  inputProps: PropTypes.shape({\n    email: PropTypes.object,\n    password: PropTypes.object,\n    submit: PropTypes.object\n  })\n};\n\nEmailSignInForm.defaultProps = {\n  inputProps: {\n    email: {},\n    password: {},\n    submit: {}\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/EmailSignInForm.js\n **/","/**\n * Created by andrew on 26/02/16.\n */\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport { persistUserData } from \"../utils/sessionStorage\";\nimport { entityReceived } from './entities';\nimport { apiSignIn } from '../utils/api';\n\nexport const emailSignInFormUpdate = makeActionCreator(T.AUTH.SIGN_IN_FORM_UPDATE, 'key', 'value');\nexport const emailSignInStart = makeActionCreator(T.AUTH.SIGN_IN_START);\nexport const emailSignInComplete = makeActionCreator(T.AUTH.SIGN_IN_COMPLETE, 'user');\nexport const emailSignInError = makeActionCreator(T.AUTH.SIGN_IN_ERROR, 'error');\n\nexport function emailSignIn(body) {\n  return dispatch => {\n\n    dispatch(emailSignInStart());\n\n    return apiSignIn(body)\n      .then(function(data = {}) {\n        const { id } = data;\n        if (id ) {\n          dispatch(entityReceived(id, data));\n        }\n        return data;\n      })\n      .then((user) => {\n        persistUserData(user);\n        dispatch(emailSignInComplete(user));\n      })\n      .catch((errors) => {\n        // revert endpoint key to what it was before failed request\n        //setCurrentEndpointKey(prevEndpointKey);\n        //dispatch(storeCurrentEndpointKey(prevEndpointKey));\n        return dispatch(emailSignInError(errors));\n      });\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/signIn.js\n **/","/**\n * Created by andrew on 12/02/16.\n */\nimport React from \"react\";\n//import { PageHeader } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport { pushState } from 'redux-router';\nimport read from '../utils/readProp';\n\nimport { PageHeader, OverlayTrigger, Tooltip, Row, ButtonGroup, Table } from \"react-bootstrap\";\nimport * as BS from \"react-bootstrap\";\nimport { Link, IndexLink} from \"react-router\";\n\n//import { EmailSignUpForm } from \"redux-auth/bootstrap-theme\"\nimport EmailSignUpForm from \"../controls/bootstrap/EmailSignUpForm\";\n\nexport class SignUp extends React.Component {\n\n  checkRedirect(props) {\n    if (props.isAuthenticated) {\n      // redirect to login and add next param so we can redirect again after login\n      // const redirectAfterLogin = props.location.pathname;\n      props.dispatch(pushState(null, `/`));\n    }\n  }\n\n  componentWillMount() {\n    this.checkRedirect(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.checkRedirect(nextProps);\n  }\n\n  render () {\n    return (\n      <BS.Well>\n        <BS.PageHeader>Register</BS.PageHeader>\n        <EmailSignUpForm />\n      </BS.Well>\n    );\n\n  }\n}\nexport default connect(({\n  routes,\n  app\n}) => ({routes,\n  isAuthenticated: read(app, 'auth.user.isSignedIn', false)\n}))(SignUp);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/SignUp.js\n **/","/**\n * Created by andrew on 15/02/16.\n */\nimport React, {PropTypes} from \"react\";\nimport { connect } from \"react-redux\";\nimport { Glyphicon } from \"react-bootstrap\";\nimport Input from \"./Input\";\nimport ButtonLoader from \"./ButtonLoader\";\nimport IndexPanel from \"./../../components/partials/IndexPanel\";\nimport AuxErrorLabel from './AuxErrorLabel';\nimport { customerInfoMap } from '../../entities/formToPayloadMappers';\nimport read from '../../utils/readProp';\nimport * as AS from '../../actions/signUp';\n\nconst formValidation = (payload) => [\n  'fname',\n  'lname',\n  'email',\n  'password',\n  'passwordConfirm',\n  'ssn',\n  'phoneNumber',\n  'address1',\n  'address2',\n  'city',\n  'state',\n  'zip'\n].reduce((memo, prop) => {\n  let result = [];\n  const value = (payload[prop] || '').replace(/(^\\s+)|(\\s+$)/g, '');\n\n  switch (prop) {\n    case 'fname':\n    case 'lname':\n    case 'email':\n    case 'ssn':\n    case 'password':\n    case 'passwordConfirm':\n      if (/^$/.test(value)) {\n        result.push('required');\n      }\n  }\n\n  switch (prop) {\n    case 'passwordConfirm':\n      if (value != payload['password']) {\n        result.push('need to be equal to password');\n      }\n  }\n\n  if (result.length) {\n    memo[prop] = result;\n    memo.hasErrors = true;\n  }\n  return memo;\n}, {});\n\n\nclass EmailSignUpForm extends React.Component {\n\n  handleInput (key, val) {\n    this.props.dispatch(AS.emailSignUpFormUpdate(key, val));\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n\n    const formData = read(this.props.auth, 'signUp.form');\n    const validationErrors = formValidation(formData);\n    if (validationErrors.hasErrors) {\n      this.props.dispatch(AS.emailSignUpError(validationErrors));\n      return;\n    }\n\n    this.props.dispatch(AS.emailSignUp(customerInfoMap(formData)));\n  }\n\n  render () {\n\n    const disabled = (\n      this.props.auth.user.isSignedIn ||\n      this.props.auth.signUp.loading\n    );\n\n    const formErrors = read(this.props.auth, 'signUp.errors.errors', '');\n\n    return (\n      <form className='redux-auth email-sign-up-form clearfix'\n            onSubmit={this.handleSubmit.bind(this)}>\n\n        <div className=\"form-group\" style={{\n          display: formErrors ? 'block' : 'none'\n        }}>\n          <AuxErrorLabel\n            label=\"Form:\"\n            errors={ formErrors.length ? [ formErrors ] : [] }\n          />\n        </div>\n\n        <IndexPanel header=\"basic\">\n\n          <Input type=\"text\"\n                 label=\"First name\"\n                 placeholder=\"First name\"\n                 className=\"email-sign-up-email\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.fname', '')}\n                 errors={read(this.props.auth, 'signUp.errors.fname', [])}\n                 onChange={this.handleInput.bind(this, \"fname\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Last name\"\n                 placeholder=\"Last name\"\n                 className=\"email-sign-up-email\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.lname', '')}\n                 errors={read(this.props.auth, 'signUp.errors.lname', [])}\n                 onChange={this.handleInput.bind(this, \"lname\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Email\"\n                 placeholder=\"Email\"\n                 className=\"email-sign-up-email\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.email', '')}\n                 errors={read(this.props.auth, 'signUp.errors.email', [])}\n                 onChange={this.handleInput.bind(this, \"email\")}\n          />\n\n          <Input type=\"password\"\n                 className=\"password-sign-in-email\"\n                 label=\"Password\"\n                 placeholder=\"Password\"\n                 name=\"password\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.password', '')}\n                 errors={read(this.props.auth, 'signUp.errors.password', [])}\n                 onChange={this.handleInput.bind(this, \"password\")}\n                 />\n\n          <Input type=\"password\"\n                 className=\"password-sign-in-email\"\n                 label=\"Confirm password\"\n                 placeholder=\"Confirm password\"\n                 name=\"password-confirm\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.passwordConfirm', '')}\n                 errors={read(this.props.auth, 'signUp.errors.passwordConfirm', [])}\n                 onChange={this.handleInput.bind(this, \"passwordConfirm\")}\n                 />\n\n\n        </IndexPanel>\n\n        <IndexPanel header=\"advanced\">\n          <Input type=\"text\"\n                 label=\"SSN\"\n                 placeholder=\"SSN\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.ssn', '')}\n                 errors={read(this.props.auth, 'signUp.errors.ssn', [])}\n                 onChange={this.handleInput.bind(this, \"ssn\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Phone\"\n                 placeholder=\"Phone\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.phoneNumber', '')}\n                 errors={read(this.props.auth, 'signUp.errors.phoneNumber', [])}\n                 onChange={this.handleInput.bind(this, \"phoneNumber\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Address 1\"\n                 placeholder=\"Address 1\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.address1', '')}\n                 errors={read(this.props.auth, 'signUp.errors.address1', [])}\n                 onChange={this.handleInput.bind(this, \"address1\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"Address 2\"\n                 placeholder=\"Address 2\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.address2', '')}\n                 errors={read(this.props.auth, 'signUp.errors.address2', [])}\n                 onChange={this.handleInput.bind(this, \"address2\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"City\"\n                 placeholder=\"City\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.city', '')}\n                 errors={read(this.props.auth, 'signUp.errors.city', {})}\n                 onChange={this.handleInput.bind(this, \"city\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"State\"\n                 placeholder=\"State\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.state', '')}\n                 errors={read(this.props.auth, 'signUp.errors.state', [])}\n                 onChange={this.handleInput.bind(this, \"state\")}\n          />\n\n          <Input type=\"text\"\n                 label=\"ZIP\"\n                 placeholder=\"ZIP\"\n                 className=\"email-sign-up-email\"\n                 bsSize=\"small\"\n                 disabled={disabled}\n                 value={read(this.props.auth, 'signUp.form.zip', '')}\n                 errors={read(this.props.auth, 'signUp.errors.zip', [])}\n                 onChange={this.handleInput.bind(this, \"zip\")}\n          />\n\n        </IndexPanel>\n\n\n\n        <ButtonLoader loading={read(this.props.auth, 'signUp.loading', false)}\n                      type=\"submit\"\n                      className=\"email-sign-up-submit pull-right\"\n                      icon={<Glyphicon glyph=\"send\" />}\n                      disabled={disabled}\n                      onClick={this.handleSubmit.bind(this)}\n        >\n          Sign Up\n        </ButtonLoader>\n      </form>\n    );\n\n  }\n}\n\nexport default connect(({app}) => ({auth: app.auth}))(EmailSignUpForm);\n\n\n/** WEBPACK FOOTER **\n ** ./src/controls/bootstrap/EmailSignUpForm.js\n **/","/**\n * Created by andrew on 21/02/16.\n */\nexport const customerInfoMap = ({\n  ssn,\n  password,\n  address1,\n  address2,\n  city, //: \"Moscow\"\n  email, //: \"arevinsky@gmail.com\"\n  fname, //: \"Andrew\"\n  lname, //: \"Revinsky\"\n  phoneNumber, //: \"+79031570864\"\n  state, //: \"Kentucky\"\n  zip //: \"125315\"\n  }) => ({\n  \"name\": {\n    \"firstName\": fname,\n    \"lastName\": lname\n  },\n  password,\n  email,\n  ssn,\n  \"phoneNumber\": phoneNumber,\n  \"address\": {\n    \"street1\": address1,\n    \"street2\": address2,\n    city,\n    state,\n    \"zipCode\": zip\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/entities/formToPayloadMappers.js\n **/","/**\n * Created by andrew on 11/03/16.\n */\nimport { push } from 'redux-router';\nimport T from '../constants/ACTION_TYPES';\nimport { makeActionCreator } from '../utils/actions';\nimport { apiSignUp } from \"../utils/api\";\nimport { emailSignInFormUpdate } from './signIn';\n\nexport const emailSignUpFormUpdate = makeActionCreator(T.AUTH.SIGN_UP_FORM_UPDATE, 'key', 'value');\nexport const emailSignUpStart = makeActionCreator(T.AUTH.SIGN_UP_START);\nexport const emailSignUpComplete = makeActionCreator(T.AUTH.SIGN_UP_COMPLETE, 'user');\nexport const emailSignUpError = makeActionCreator(T.AUTH.SIGN_UP_ERROR, 'error');\n\n\nexport function emailSignUp(body) {\n  return dispatch => {\n    dispatch(emailSignUpStart());\n\n    return apiSignUp(body)\n      .then(({ data }) => {\n        dispatch(emailSignUpComplete(data));\n        const { email } = body;\n        dispatch(emailSignInFormUpdate('email', email));\n        dispatch(push('/signin'));\n      })\n      .catch(({ errors }) => {\n        dispatch(emailSignUpError({\n          errors\n        }))\n      });\n\n  };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/actions/signUp.js\n **/"],"sourceRoot":""}